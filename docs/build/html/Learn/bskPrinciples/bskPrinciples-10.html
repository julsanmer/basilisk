

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Deprecated: Using old-style C modules &mdash; Basilisk 2.2.1b0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Integrated Example Scripts" href="../../examples/index.html" />
    <link rel="prev" title="Advanced: Using DynamicObject Basilisk Modules" href="bskPrinciples-9.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >
          

          
            <a href="../../index.html" class="icon icon-home"> Basilisk
          

          
            
            <img src="../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                version 2.2.1b0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="../bskPrinciples.html">Fundamentals of Basilisk Simulations</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-0.html">What is Basilisk</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-1.html">Basilisk Process and Task Creation</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-2.html">Adding Basilisk Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-2a.html">Execution of Basilisk Modules</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-2b.html">Seeing the Order of Process, Task and Module Execution</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-3.html">Connecting Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-4.html">Recording Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-5.html">Creating Stand-Alone Messages</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-6.html">Setting and Recording Module Variables</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-7.html">Advanced: Redirecting Module Output to Stand-Alone Message</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-8.html">Advanced: Enabling and Disabling Tasks</a></li>
<li class="toctree-l3"><a class="reference internal" href="bskPrinciples-9.html">Advanced: Using <code class="docutils literal notranslate"><span class="pre">DynamicObject</span></code> Basilisk Modules</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">Deprecated: Using old-style C modules</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../examples/index.html">Integrated Example Scripts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../makingModules.html">Basics of Writing Basilisk Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Forum.html">News and Discussions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Basilisk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../Learn.html">Learning Basilisk</a> &raquo;</li>
        
          <li><a href="../bskPrinciples.html">Fundamentals of Basilisk Simulations</a> &raquo;</li>
        
      <li>Deprecated: Using old-style C modules</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/Learn/bskPrinciples/bskPrinciples-10.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="admonition warning" id="bskprinciples-10">
<p class="admonition-title">Warning</p>
<p>This section refers to a deprecated way of operating with C modules. Refer to previous documentation pages for the updated way.</p>
</div>
<section id="deprecated-using-old-style-c-modules">
<h1>Deprecated: Using old-style C modules<a class="headerlink" href="#deprecated-using-old-style-c-modules" title="Permalink to this headline">Â¶</a></h1>
<p>In more recent Basilisk scripts, whether a module is implemented in C++ or C should not make
any difference on how this module is used in Python scripts. However, this has not always been
the case, and you might encounter some code that uses the older syntax. This documentation
summarizes how to use this older syntax.</p>
<p>Previous documentation pages have taught us that C++ modules (and new-syntax C modules) are
created, configured, and added to the simulation through the following syntax:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">module</span> <span class="o">=</span> <span class="n">someModule</span><span class="o">.</span><span class="n">someModule</span><span class="p">()</span>
<span class="n">module</span><span class="o">.</span><span class="n">someParameter</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">module</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;someModuleName&quot;</span>
<span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="s2">&quot;taskName&quot;</span><span class="p">,</span> <span class="n">module</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
</pre></div>
</div>
<p>In order to perform the same operations on an old-syntax C module, one would do:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">moduleConfig</span> <span class="o">=</span> <span class="n">someModule</span><span class="o">.</span><span class="n">someModuleConfig</span><span class="p">()</span>
<span class="n">moduleConfig</span><span class="o">.</span><span class="n">someParameter</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">moduleWrap</span> <span class="o">=</span> <span class="n">scSim</span><span class="o">.</span><span class="n">setModelDataWrap</span><span class="p">(</span><span class="n">moduleConfig</span><span class="p">)</span>
<span class="n">moduleWrap</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;someModuleName&quot;</span>
<span class="n">scSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="s2">&quot;taskName&quot;</span><span class="p">,</span> <span class="n">moduleWrap</span><span class="p">,</span> <span class="n">moduleConfig</span><span class="p">,</span> <span class="n">priority</span><span class="p">)</span>
</pre></div>
</div>
<p>Note that in this case, we created a âConfigâ object <code class="docutils literal notranslate"><span class="pre">someModule.someModuleConfig</span></code>. Connecting
messages and setting parameters of the module is done through this object. Then, the <code class="docutils literal notranslate"><span class="pre">setModelDataWrap</span></code>
method of the simulation object is called on the âConfigâ object, which generates the âWrapâ object.
The unique name must be set on the âWrapâ object. Finally, the module is added to the simulation by
using both the âWrapâ and âConfigâ objects in the <code class="docutils literal notranslate"><span class="pre">scSim.AddModelToTask</span></code> method.</p>
<p>The need for separate âConfigâ and âWrapâ objects arises from the lack of classes in the C programming language.
The âConfigâ objects, as well as the relevant <code class="docutils literal notranslate"><span class="pre">UpdateState</span></code>, <code class="docutils literal notranslate"><span class="pre">Reset</span></code>, and <code class="docutils literal notranslate"><span class="pre">SelfInit</span></code> methods,
are written in pure C for C modules. However, the simulation framework is written in C++ and it expects
the modules to be C++ classes. The âWrapâ object is this C++ class, which holds references to
the âConfigâ object and the relevant methods so that they can be accesses from C++ as a single class.</p>
<p>After the refactor of C modules, the working principle remains largely the same. However, the âwrappingâ
now happens at a stage that is hidden from users, so that it appears that C modules are just like
C++ modules.</p>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../../examples/index.html" class="btn btn-neutral float-right" title="Integrated Example Scripts" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="bskPrinciples-9.html" class="btn btn-neutral float-left" title="Advanced: Using DynamicObject Basilisk Modules" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, Autonomous Vehicle Systems (AVS) Laboratory.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>