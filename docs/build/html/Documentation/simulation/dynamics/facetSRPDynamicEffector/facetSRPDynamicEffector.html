

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Module: facetSRPDynamicEffector &mdash; Basilisk 2.2.1b0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="_UnitTest" href="_UnitTest/index.html" />
    <link rel="prev" title="facetSRPDynamicEffector" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Basilisk
          

          
            
            <img src="../../../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                version 2.2.1b0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../Install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Learn.html">Learning Basilisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Support.html">Support</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/index.html">architecture</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../fswAlgorithms/index.html">fswAlgorithms</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../moduleTemplates/index.html">moduleTemplates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../report/index.html">report</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">simulation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../deviceInterface/index.html">deviceInterface</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">dynamics</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../DynOutput/index.html">DynOutput</a></li>
<li class="toctree-l4"><a class="reference internal" href="../ExtPulsedTorque/index.html">ExtPulsedTorque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../FuelTank/index.html">FuelTank</a></li>
<li class="toctree-l4"><a class="reference internal" href="../GravityGradientEffector/index.html">GravityGradientEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../HingedRigidBodies/index.html">HingedRigidBodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Integrators/index.html">Integrators</a></li>
<li class="toctree-l4"><a class="reference internal" href="../LinearSpringMassDamper/index.html">LinearSpringMassDamper</a></li>
<li class="toctree-l4"><a class="reference internal" href="../MtbEffector/index.html">MtbEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../NHingedRigidBodies/index.html">NHingedRigidBodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../RadiationPressure/index.html">RadiationPressure</a></li>
<li class="toctree-l4"><a class="reference internal" href="../Thrusters/index.html">Thrusters</a></li>
<li class="toctree-l4"><a class="reference internal" href="../VSCMGs/index.html">VSCMGs</a></li>
<li class="toctree-l4"><a class="reference internal" href="../_GeneralModuleFiles/index.html">_GeneralModuleFiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dragEffector/index.html">dragEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dualHingedRigidBodies/index.html">dualHingedRigidBodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../extForceTorque/index.html">extForceTorque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../facetDragEffector/index.html">facetDragEffector</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">facetSRPDynamicEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../gravityEffector/index.html">gravityEffector</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hingedRigidBodyMotor/index.html">hingedRigidBodyMotor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../msmForceTorque/index.html">msmForceTorque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prescribedMotion/index.html">prescribedMotion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../reactionWheels/index.html">reactionWheels</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spacecraft/index.html">spacecraft</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spacecraftSystem/index.html">spacecraftSystem</a></li>
<li class="toctree-l4"><a class="reference internal" href="../sphericalPendulum/index.html">sphericalPendulum</a></li>
<li class="toctree-l4"><a class="reference internal" href="../spinningBodies/index.html">spinningBodies</a></li>
<li class="toctree-l4"><a class="reference internal" href="../stateArchitecture/index.html">stateArchitecture</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../environment/index.html">environment</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../navigation/index.html">navigation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../onboardDataHandling/index.html">onboardDataHandling</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../power/index.html">power</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sensors/index.html">sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../simSynch/index.html">simSynch</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../thermal/index.html">thermal</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vizard/index.html">vizard</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../utilities/index.html">utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Forum.html">News and Discussions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Basilisk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Documentation</a> &raquo;</li>
        
          <li><a href="../../index.html">simulation</a> &raquo;</li>
        
          <li><a href="../index.html">dynamics</a> &raquo;</li>
        
          <li><a href="index.html">facetSRPDynamicEffector</a> &raquo;</li>
        
      <li>Module: facetSRPDynamicEffector</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/Documentation/simulation/dynamics/facetSRPDynamicEffector/facetSRPDynamicEffector.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="module-facetsrpdynamiceffector">
<span id="facetsrpdynamiceffector"></span><h1>Module: facetSRPDynamicEffector<a class="headerlink" href="#module-facetsrpdynamiceffector" title="Permalink to this headline">¶</a></h1>
<section id="executive-summary">
<h2>Executive Summary<a class="headerlink" href="#executive-summary" title="Permalink to this headline">¶</a></h2>
<p>This new dynamic effector module uses a static faceted spacecraft model to calculate the force and torque acting on a
spacecraft due to solar radiation pressure (SRP). The force and torque acting on the spacecraft are defined with respect
to the spacecraft body frame origin <span class="math notranslate nohighlight">\(B\)</span>.</p>
</section>
<section id="message-connection-descriptions">
<h2>Message Connection Descriptions<a class="headerlink" href="#message-connection-descriptions" title="Permalink to this headline">¶</a></h2>
<p>The following table lists all the module input and output messages.
The module msg connection is set by the user from python.
The msg type contains a link to the message structure definition, while the description
provides information on what this message is used for.</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Module I/O Messages</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Msg Variable Name</p></th>
<th class="head"><p>Msg Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>sunInMsg</p></td>
<td><p><a class="reference internal" href="../../../architecture/msgPayloadDefC/SpicePlanetStateMsgPayload.html#spiceplanetstatemsgpayload"><span class="std std-ref">SpicePlanetStateMsgPayload</span></a></p></td>
<td><p>Input msg with the Sun state information</p></td>
</tr>
</tbody>
</table>
</section>
<section id="detailed-module-description">
<h2>Detailed Module Description<a class="headerlink" href="#detailed-module-description" title="Permalink to this headline">¶</a></h2>
<section id="mathematical-modeling">
<h3>Mathematical Modeling<a class="headerlink" href="#mathematical-modeling" title="Permalink to this headline">¶</a></h3>
<p>The spacecraft is represented as a collection of <span class="math notranslate nohighlight">\(n\)</span> facets with negligible thickness. Each facet is characterized
by an area <span class="math notranslate nohighlight">\(A\)</span>, a vector normal to its surface <span class="math notranslate nohighlight">\(\boldsymbol{\hat{n}}\)</span>, a position vector from the
spacecraft body frame origin, point <span class="math notranslate nohighlight">\(B\)</span> to the facet center of pressure, <span class="math notranslate nohighlight">\(\boldsymbol{r}_{F/B}\)</span>, and three optical coefficients
representing the interaction of impinging photons with the facet surface. The fraction of specularly reflected,
diffusely scattered, and absorbed photons are represented using the coefficients <span class="math notranslate nohighlight">\(\delta, \rho,\)</span> and
<span class="math notranslate nohighlight">\(\alpha\)</span>, respectively.</p>
<p>A faceted force model is used to estimate the SRP force acting on the spacecraft:</p>
<div class="math notranslate nohighlight">
\[\boldsymbol{F}_{\text{SRP}} = \sum_{i = 1}^{n} \boldsymbol{F}_{\text{SRP}_i} = -P(|\boldsymbol{r}_{\text{sc} / \odot }|) \sum_{i = 1}^{n} A_i \cos(\theta_i) \left [ (1 - \delta_i) \boldsymbol{\hat{s}} + 2 \left ( \frac{\rho_i}{3} + \delta_i \cos(\theta_i) \right ) \boldsymbol{\hat{n}}_{i}\right ]\]</div>
<p>Note that all vector quantities are expressed in the spacecraft principal body-frame components for the SRP force
calculation. <span class="math notranslate nohighlight">\(\boldsymbol{\hat{s}}\)</span> is the unit direction vector pointing radially towards the Sun from the
spacecraft body-frame origin. This vector is found by subtracting the current spacecraft inertial position from the
Sun position given from the Spice input message:</p>
<div class="math notranslate nohighlight">
\[{}^B \boldsymbol{\hat{s}} = [BN] ( {}^N \boldsymbol{r}_{\odot / N} - {}^N \boldsymbol{r}_{\text{sc} / N})\]</div>
<p>Note that both the Sun and spacecraft inertial positions are given in inertial frame components. The current spacecraft
attitude, <span class="math notranslate nohighlight">\(\sigma_{\mathcal{B} / \mathcal{N}}\)</span> is used to find the current Direction Cosine Matrix (DCM) of the
spacecraft body frame relative to the inertial frame, <span class="math notranslate nohighlight">\([BN]\)</span>.</p>
<p><span class="math notranslate nohighlight">\(\theta\)</span> is defined as the incidence angle between each facet normal vector and the
Sun-direction vector, and <span class="math notranslate nohighlight">\(P(|\boldsymbol{r}_{\text{sc}/ \odot\ }|)\)</span> is the pressure acting on the spacecraft
scaled by the spacecraft heliocentric distance.</p>
<p>The total torque acting on the spacecraft about point <span class="math notranslate nohighlight">\(B\)</span> due to SRP is calculated by summing the torque
contributions over all <span class="math notranslate nohighlight">\(n\)</span> facets:</p>
<div class="math notranslate nohighlight">
\[\boldsymbol{L}_{\text{SRP},B} = \sum_{i = 1}^{n} \boldsymbol{L}_{{\text{SRP},B}_i} = \sum_{i = 1}^{n} \boldsymbol{r}_{F_i/B} \times \boldsymbol{F}_{\text{SRP}_i}\]</div>
</section>
<section id="module-testing">
<h3>Module Testing<a class="headerlink" href="#module-testing" title="Permalink to this headline">¶</a></h3>
<p>The unit test for this module ensures that the calculated Solar Radiation Pressure (SRP) force and torque acting
on the spacecraft about the body-fixed point B is properly computed for a static spacecraft. The spacecraft
geometry defined in this test consists of a cubic hub and two circular solar arrays. Six square facets represent
the cubic hub and four circular facets describe the solar arrays. The SRP force and torque module values are
checked with values computed in python both initially and at a time halfway through the simulation.</p>
<p>The initial module-computed SRP force value <code class="docutils literal notranslate"><span class="pre">SRPDataForce_B</span></code> is checked with the value computed in
python <code class="docutils literal notranslate"><span class="pre">forceTest1Val</span></code>. The initial module-computed SRP torque value <code class="docutils literal notranslate"><span class="pre">SRPDataTorque_B</span></code> is also checked
with the value computed in python <code class="docutils literal notranslate"><span class="pre">torqueTest1Val</span></code>. Similarly, these values halfway through the simulation
are checked to match.</p>
</section>
</section>
<section id="user-guide">
<h2>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h2>
<p>The user configures the spacecraft geometry as a collection of <span class="math notranslate nohighlight">\(n\)</span> facets, each with an area <span class="math notranslate nohighlight">\(A\)</span>,
a vector normal to its surface <span class="math notranslate nohighlight">\(\boldsymbol{\hat{n}}\)</span>, a position vector from the spacecraft center of mass to
the facet center of pressure, <span class="math notranslate nohighlight">\(\boldsymbol{r}_{F/c}\)</span>, and the three optical coefficients
<span class="math notranslate nohighlight">\(\delta, \rho,\)</span> and <span class="math notranslate nohighlight">\(\alpha\)</span>, representing the fraction of specularly reflected, diffusely scattered,
and absorbed photons, respectively.</p>
<p>The following steps are needed to setup a faceted SRP dynamic effector in python using Basilisk.</p>
<ol class="arabic">
<li><p>Import the facetSRPDynamicEffector class:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">Basilisk.simulation</span> <span class="kn">import</span> <span class="n">facetSRPDynamicEffector</span>
</pre></div>
</div>
</li>
<li><p>Add the Earth and Sun as gravitational bodies to the simulation:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">gravFactory</span> <span class="o">=</span> <span class="n">simIncludeGravBody</span><span class="o">.</span><span class="n">gravBodyFactory</span><span class="p">()</span>
<span class="n">earth</span> <span class="o">=</span> <span class="n">gravFactory</span><span class="o">.</span><span class="n">createEarth</span><span class="p">()</span>
<span class="n">sun</span> <span class="o">=</span> <span class="n">gravFactory</span><span class="o">.</span><span class="n">createSun</span><span class="p">()</span>
<span class="n">earth</span><span class="o">.</span><span class="n">isCentralBody</span> <span class="o">=</span> <span class="kc">True</span>  <span class="c1"># ensure this is the central gravitational body</span>
<span class="n">earthIdx</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">sunIdx</span> <span class="o">=</span> <span class="mi">1</span>

<span class="n">earthStateMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">SpicePlanetStateMsgPayload</span><span class="p">()</span>
<span class="n">earthStateMsg</span><span class="o">.</span><span class="n">PositionVector</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">149598023</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
<span class="n">earthStateMsg</span><span class="o">.</span><span class="n">VelocityVector</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
<span class="n">earthMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">SpicePlanetStateMsg</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">earthStateMsg</span><span class="p">)</span>
<span class="n">gravFactory</span><span class="o">.</span><span class="n">gravBodies</span><span class="p">[</span><span class="s1">&#39;earth&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">planetBodyInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">earthMsg</span><span class="p">)</span>

<span class="n">sunStateMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">SpicePlanetStateMsgPayload</span><span class="p">()</span>
<span class="n">sunStateMsg</span><span class="o">.</span><span class="n">PositionVector</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
<span class="n">sunStateMsg</span><span class="o">.</span><span class="n">VelocityVector</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">]</span>
<span class="n">sunMsg</span> <span class="o">=</span> <span class="n">messaging</span><span class="o">.</span><span class="n">SpicePlanetStateMsg</span><span class="p">()</span><span class="o">.</span><span class="n">write</span><span class="p">(</span><span class="n">sunStateMsg</span><span class="p">)</span>
<span class="n">gravFactory</span><span class="o">.</span><span class="n">gravBodies</span><span class="p">[</span><span class="s1">&#39;sun&#39;</span><span class="p">]</span><span class="o">.</span><span class="n">planetBodyInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">sunMsg</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Create an instantiation of the dynamic effector:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">newSRP</span> <span class="o">=</span> <span class="n">facetSRPDynamicEffector</span><span class="o">.</span><span class="n">FacetSRPDynamicEffector</span><span class="p">()</span>
<span class="n">newSRP</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;FacetSRP&quot;</span>
</pre></div>
</div>
</li>
<li><p>Define the spacecraft geometry of interest:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="c1"># Define the facet surface areas</span>
<span class="n">area1</span> <span class="o">=</span> <span class="mf">1.5</span><span class="o">*</span><span class="mf">1.5</span>  <span class="c1"># [m]</span>
<span class="n">area2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">pi</span><span class="o">*</span><span class="p">(</span><span class="mf">0.5</span><span class="o">*</span><span class="mf">7.5</span><span class="p">)</span><span class="o">*</span><span class="p">(</span><span class="mf">0.5</span><span class="o">*</span><span class="mf">7.5</span><span class="p">)</span>  <span class="c1"># [m]</span>
<span class="n">facetAreas</span> <span class="o">=</span> <span class="p">[</span><span class="n">area1</span><span class="p">,</span> <span class="n">area1</span><span class="p">,</span> <span class="n">area1</span><span class="p">,</span> <span class="n">area1</span><span class="p">,</span> <span class="n">area1</span><span class="p">,</span> <span class="n">area1</span><span class="p">,</span> <span class="n">area2</span><span class="p">,</span> <span class="n">area2</span><span class="p">,</span> <span class="n">area2</span><span class="p">,</span> <span class="n">area2</span><span class="p">]</span>

<span class="c1"># Define the facet normals in B frame components</span>
<span class="n">facetNormal1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">facetNormal2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">facetNormal3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">facetNormal4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">facetNormal5</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">])</span>
<span class="n">facetNormal6</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">])</span>
<span class="n">facetNormal7</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">facetNormal8</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">facetNormal9</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">facetNormal10</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">1.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
<span class="n">normals_B</span> <span class="o">=</span> <span class="p">[</span><span class="n">facetNormal1</span><span class="p">,</span> <span class="n">facetNormal2</span><span class="p">,</span> <span class="n">facetNormal3</span><span class="p">,</span> <span class="n">facetNormal4</span><span class="p">,</span> <span class="n">facetNormal5</span><span class="p">,</span> <span class="n">facetNormal6</span><span class="p">,</span> <span class="n">facetNormal7</span><span class="p">,</span> <span class="n">facetNormal8</span><span class="p">,</span> <span class="n">facetNormal9</span><span class="p">,</span> <span class="n">facetNormal10</span><span class="p">]</span>

<span class="c1"># Define the facet center of pressure locations with respect to point B in B frame components</span>
<span class="n">facetLoc1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">facetLoc2</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">facetLoc3</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">facetLoc4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.75</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">facetLoc5</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">facetLoc6</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="o">-</span><span class="mf">0.75</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">facetLoc7</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">facetLoc8</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">facetLoc9</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">facetLoc10</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="o">-</span><span class="mf">4.5</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">locationsPntB_B</span> <span class="o">=</span> <span class="p">[</span><span class="n">facetLoc1</span><span class="p">,</span> <span class="n">facetLoc2</span><span class="p">,</span> <span class="n">facetLoc3</span><span class="p">,</span> <span class="n">facetLoc4</span><span class="p">,</span> <span class="n">facetLoc5</span><span class="p">,</span> <span class="n">facetLoc6</span><span class="p">,</span> <span class="n">facetLoc7</span><span class="p">,</span> <span class="n">facetLoc8</span><span class="p">,</span> <span class="n">facetLoc9</span><span class="p">,</span> <span class="n">facetLoc10</span><span class="p">]</span>

<span class="c1"># Define the facet optical coefficients</span>
<span class="n">specCoeff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">,</span> <span class="mf">0.9</span><span class="p">])</span>
<span class="n">diffCoeff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">,</span> <span class="mf">0.1</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p>Populate the scGeometry structure with the defined facet information:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">facetAreas</span><span class="p">)):</span>
    <span class="n">newSRP</span><span class="o">.</span><span class="n">addFacet</span><span class="p">(</span><span class="n">facetAreas</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">specCoeff</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">diffCoeff</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">normals_B</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">locationsPntB_B</span><span class="p">[</span><span class="n">i</span><span class="p">])</span>
</pre></div>
</div>
</li>
</ol>
<p>Note that for each added facet, the user is required to set the corresponding area, normal vector, location, and optical coefficients parameters in the scGeometry structure.</p>
<ol class="arabic">
<li><p>Connect the Sun’s ephemeris message to the SRP module:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">newSRP</span><span class="o">.</span><span class="n">sunInMsg</span><span class="o">.</span><span class="n">subscribeTo</span><span class="p">(</span><span class="n">sunMsg</span><span class="p">)</span>
</pre></div>
</div>
</li>
<li><p>Add the SRP dynamic effector to the spacecraft:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scObject</span><span class="o">.</span><span class="n">addDynamicEffector</span><span class="p">(</span><span class="n">newSRP</span><span class="p">)</span>
</pre></div>
</div>
<p>See <a class="reference internal" href="../spacecraft/spacecraft.html#spacecraft"><span class="std std-ref">Module: spacecraft</span></a> documentation on how to set up a spacecraft object.</p>
</li>
<li><p>Set up the spacecraft orbit:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">oe</span> <span class="o">=</span> <span class="n">orbitalMotion</span><span class="o">.</span><span class="n">ClassicElements</span><span class="p">()</span>
<span class="n">r_eq</span> <span class="o">=</span> <span class="mi">6371</span><span class="o">*</span><span class="mf">1000.0</span>  <span class="c1"># [m]</span>
<span class="n">rN</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="n">r_eq</span><span class="o">+</span><span class="mf">2000.0</span><span class="p">,</span> <span class="o">-</span><span class="mi">149598023</span> <span class="o">*</span> <span class="mi">1000</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># [m]</span>
<span class="n">vN</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">7.90854</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>  <span class="c1"># [m/s]</span>
<span class="n">sig_BN</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">,</span> <span class="mf">0.0</span><span class="p">])</span>
</pre></div>
</div>
</li>
<li><p>Initialize the spacecraft states with the initialization variables:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">r_CN_NInit</span> <span class="o">=</span> <span class="n">rN</span>  <span class="c1"># [m] r_CN_N</span>
<span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">v_CN_NInit</span> <span class="o">=</span> <span class="n">vN</span>  <span class="c1"># [m] v_CN_N</span>
<span class="n">scObject</span><span class="o">.</span><span class="n">hub</span><span class="o">.</span><span class="n">sigma_BNInit</span> <span class="o">=</span> <span class="n">sig_BN</span>
</pre></div>
</div>
</li>
<li><p>Add the module to the task list:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">unitTestSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">unitTaskName</span><span class="p">,</span> <span class="n">newSRP</span><span class="p">)</span>
</pre></div>
</div>
</li>
</ol>
<hr class="docutils" />
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv432FacetedSRPSpacecraftGeometryData">
<span id="_CPPv332FacetedSRPSpacecraftGeometryData"></span><span id="_CPPv232FacetedSRPSpacecraftGeometryData"></span><span id="FacetedSRPSpacecraftGeometryData"></span><span class="target" id="struct_faceted_s_r_p_spacecraft_geometry_data"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">FacetedSRPSpacecraftGeometryData</span></span></span><a class="headerlink" href="#_CPPv432FacetedSRPSpacecraftGeometryData" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;facetSRPDynamicEffector.h&gt;</em></div>
<p>Spacecraft Geometry Data. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32FacetedSRPSpacecraftGeometryData10facetAreasE">
<span id="_CPPv3N32FacetedSRPSpacecraftGeometryData10facetAreasE"></span><span id="_CPPv2N32FacetedSRPSpacecraftGeometryData10facetAreasE"></span><span id="FacetedSRPSpacecraftGeometryData::facetAreas__std::vector:double:"></span><span class="target" id="struct_faceted_s_r_p_spacecraft_geometry_data_1affc445fa3ec9f0d6641d9f005f087e65"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">facetAreas</span></span></span><a class="headerlink" href="#_CPPv4N32FacetedSRPSpacecraftGeometryData10facetAreasE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>[m^2] Vector of facet areas </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32FacetedSRPSpacecraftGeometryData15facetSpecCoeffsE">
<span id="_CPPv3N32FacetedSRPSpacecraftGeometryData15facetSpecCoeffsE"></span><span id="_CPPv2N32FacetedSRPSpacecraftGeometryData15facetSpecCoeffsE"></span><span id="FacetedSRPSpacecraftGeometryData::facetSpecCoeffs__std::vector:double:"></span><span class="target" id="struct_faceted_s_r_p_spacecraft_geometry_data_1a0f3c777dfd0213a894dca2ac475bacd6"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">facetSpecCoeffs</span></span></span><a class="headerlink" href="#_CPPv4N32FacetedSRPSpacecraftGeometryData15facetSpecCoeffsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Vector of facet spectral reflection optical coefficients. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32FacetedSRPSpacecraftGeometryData15facetDiffCoeffsE">
<span id="_CPPv3N32FacetedSRPSpacecraftGeometryData15facetDiffCoeffsE"></span><span id="_CPPv2N32FacetedSRPSpacecraftGeometryData15facetDiffCoeffsE"></span><span id="FacetedSRPSpacecraftGeometryData::facetDiffCoeffs__std::vector:double:"></span><span class="target" id="struct_faceted_s_r_p_spacecraft_geometry_data_1a1c03d1091b8fb6d06f3da89e596c3eba"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="kt"><span class="pre">double</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">facetDiffCoeffs</span></span></span><a class="headerlink" href="#_CPPv4N32FacetedSRPSpacecraftGeometryData15facetDiffCoeffsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Vector of facet diffuse reflection optical coefficients. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32FacetedSRPSpacecraftGeometryData14facetNormals_BE">
<span id="_CPPv3N32FacetedSRPSpacecraftGeometryData14facetNormals_BE"></span><span id="_CPPv2N32FacetedSRPSpacecraftGeometryData14facetNormals_BE"></span><span id="FacetedSRPSpacecraftGeometryData::facetNormals_B__std::vector:Eigen::Vector3d:"></span><span class="target" id="struct_faceted_s_r_p_spacecraft_geometry_data_1a0b1e627815347e2d82ea454e6fde2db5"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">Eigen</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Vector3d</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">facetNormals_B</span></span></span><a class="headerlink" href="#_CPPv4N32FacetedSRPSpacecraftGeometryData14facetNormals_BE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Vector of facet normals expressed in B frame components. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N32FacetedSRPSpacecraftGeometryData20facetLocationsPntB_BE">
<span id="_CPPv3N32FacetedSRPSpacecraftGeometryData20facetLocationsPntB_BE"></span><span id="_CPPv2N32FacetedSRPSpacecraftGeometryData20facetLocationsPntB_BE"></span><span id="FacetedSRPSpacecraftGeometryData::facetLocationsPntB_B__std::vector:Eigen::Vector3d:"></span><span class="target" id="struct_faceted_s_r_p_spacecraft_geometry_data_1afa9d4bbd25316835753f7ddb8cebaef5"></span><span class="n"><span class="pre">std</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">vector</span></span><span class="p"><span class="pre">&lt;</span></span><span class="n"><span class="pre">Eigen</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Vector3d</span></span><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">facetLocationsPntB_B</span></span></span><a class="headerlink" href="#_CPPv4N32FacetedSRPSpacecraftGeometryData20facetLocationsPntB_BE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>[m] Vector of facet locations wrt point B in B frame components </p>
</dd></dl>

</div>
</dd></dl>

<dl class="cpp class">
<dt class="sig sig-object cpp" id="_CPPv423FacetSRPDynamicEffector">
<span id="_CPPv323FacetSRPDynamicEffector"></span><span id="_CPPv223FacetSRPDynamicEffector"></span><span id="FacetSRPDynamicEffector"></span><span class="target" id="class_facet_s_r_p_dynamic_effector"></span><span class="k"><span class="pre">class</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">FacetSRPDynamicEffector</span></span></span><span class="w"> </span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="../../../architecture/_GeneralModuleFiles/sys_model.html#_CPPv48SysModel" title="SysModel"><span class="n"><span class="pre">SysModel</span></span></a><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="k"><span class="pre">public</span></span><span class="w"> </span><a class="reference internal" href="../_GeneralModuleFiles/dynamicEffector.html#_CPPv415DynamicEffector" title="DynamicEffector"><span class="n"><span class="pre">DynamicEffector</span></span></a><a class="headerlink" href="#_CPPv423FacetSRPDynamicEffector" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;facetSRPDynamicEffector.h&gt;</em></div>
<p>Faceted Solar Radiation Pressure Dynamic Effector. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-functions">Public Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector23FacetSRPDynamicEffectorEv">
<span id="_CPPv3N23FacetSRPDynamicEffector23FacetSRPDynamicEffectorEv"></span><span id="_CPPv2N23FacetSRPDynamicEffector23FacetSRPDynamicEffectorEv"></span><span id="FacetSRPDynamicEffector::FacetSRPDynamicEffector"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a617a90ad6ca1e1d71ae66e4172d3dd3c"></span><span class="sig-name descname"><span class="n"><span class="pre">FacetSRPDynamicEffector</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector23FacetSRPDynamicEffectorEv" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The module constructor. </p>
<p>The constructor initializes the member variables to zero. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffectorD0Ev">
<span id="_CPPv3N23FacetSRPDynamicEffectorD0Ev"></span><span id="_CPPv2N23FacetSRPDynamicEffectorD0Ev"></span><span id="FacetSRPDynamicEffector::~FacetSRPDynamicEffector"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1aa53e12a4be7dddabd3a7b5daa57d049a"></span><span class="sig-name descname"><span class="n"><span class="pre">~FacetSRPDynamicEffector</span></span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffectorD0Ev" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>The module destructor. </p>
<p>The destructor. </p>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector12linkInStatesER15DynParamManager">
<span id="_CPPv3N23FacetSRPDynamicEffector12linkInStatesER15DynParamManager"></span><span id="_CPPv2N23FacetSRPDynamicEffector12linkInStatesER15DynParamManager"></span><span id="FacetSRPDynamicEffector::linkInStates__DynParamManagerR"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a2d313a48a908072139808a7ea0711905"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">linkInStates</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="../_GeneralModuleFiles/dynParamManager.html#_CPPv415DynParamManager" title="DynParamManager"><span class="n"><span class="pre">DynParamManager</span></span></a><span class="w"> </span><span class="p"><span class="pre">&amp;</span></span><span class="n sig-param"><span class="pre">states</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector12linkInStatesER15DynParamManager" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Method for giving the effector access to the hub states. </p>
<p>This method is used to link the faceted SRP effector to the hub attitude and position, which are required for calculating SRP forces and torques. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>states</strong> – Dynamic parameter states </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector18computeForceTorqueEdd">
<span id="_CPPv3N23FacetSRPDynamicEffector18computeForceTorqueEdd"></span><span id="_CPPv2N23FacetSRPDynamicEffector18computeForceTorqueEdd"></span><span id="FacetSRPDynamicEffector::computeForceTorque__double.double"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a1fb39002d1b61cbdf6dc2ae7df3b1715"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">computeForceTorque</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">integTime</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">timeStep</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector18computeForceTorqueEdd" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Method for computing the SRP force and torque about point B. </p>
<p>This method computes the body forces and torques for the SRP effector. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>integTime</strong> – [s] Time the method is called </p></li>
<li><p><strong>timeStep</strong> – [s] Simulation time step </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector5ResetE8uint64_t">
<span id="_CPPv3N23FacetSRPDynamicEffector5ResetE8uint64_t"></span><span id="_CPPv2N23FacetSRPDynamicEffector5ResetE8uint64_t"></span><span id="FacetSRPDynamicEffector::Reset__uint64_t"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a3878c181e30f7d894fa41a1fbba1fafe"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Reset</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">currentSimNanos</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector5ResetE8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Reset method. </p>
<p>The reset member function. This method checks to ensure the input message is linked. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>currentSimNanos</strong> – [ns] Time the method is called </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector11UpdateStateE8uint64_t">
<span id="_CPPv3N23FacetSRPDynamicEffector11UpdateStateE8uint64_t"></span><span id="_CPPv2N23FacetSRPDynamicEffector11UpdateStateE8uint64_t"></span><span id="FacetSRPDynamicEffector::UpdateState__uint64_t"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1ad6766cfe0a595100e2c2c623d5b4d447"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">UpdateState</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">currentSimNanos</span></span><span class="sig-paren">)</span><span class="w"> </span><span class="k"><span class="pre">override</span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector11UpdateStateE8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Method for updating the effector states. </p>
<p>This is the <a class="reference internal" href="#class_facet_s_r_p_dynamic_effector_1ad6766cfe0a595100e2c2c623d5b4d447"><span class="std std-ref">UpdateState()</span></a> method </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>currentSimNanos</strong> – [ns] Time the method is called </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector19writeOutputMessagesE8uint64_t">
<span id="_CPPv3N23FacetSRPDynamicEffector19writeOutputMessagesE8uint64_t"></span><span id="_CPPv2N23FacetSRPDynamicEffector19writeOutputMessagesE8uint64_t"></span><span id="FacetSRPDynamicEffector::writeOutputMessages__uint64_t"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a40cf3ba08e65d8a99df36ca7150a79e1"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">writeOutputMessages</span></span></span><span class="sig-paren">(</span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">currentClock</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector19writeOutputMessagesE8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Method for writing the output messages. </p>
<p>The SRP dynamic effector does not write any output messages. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>currentClock</strong> – [ns] Time the method is called </p>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector8addFacetEdddN5Eigen8Vector3dEN5Eigen8Vector3dE">
<span id="_CPPv3N23FacetSRPDynamicEffector8addFacetEdddN5Eigen8Vector3dEN5Eigen8Vector3dE"></span><span id="_CPPv2N23FacetSRPDynamicEffector8addFacetEdddN5Eigen8Vector3dEN5Eigen8Vector3dE"></span><span id="FacetSRPDynamicEffector::addFacet__double.double.double.Eigen::Vector3d.Eigen::Vector3d"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1aa5073331eadadeb091212b64a27f9b9b"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">addFacet</span></span></span><span class="sig-paren">(</span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">area</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">specCoeff</span></span>, <span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">diffCoeff</span></span>, <span class="n"><span class="pre">Eigen</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Vector3d</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">normal_B</span></span>, <span class="n"><span class="pre">Eigen</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Vector3d</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">locationPntB_B</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector8addFacetEdddN5Eigen8Vector3dEN5Eigen8Vector3dE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Method for adding facets to the spacecraft geometry structure. </p>
<p>This member function populates the spacecraft geometry structure with user-input facet information. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>area</strong> – [m^2] Facet area </p></li>
<li><p><strong>specCoeff</strong> – Facet spectral reflection optical coefficient </p></li>
<li><p><strong>diffCoeff</strong> – Facet diffuse reflection optical coefficient </p></li>
<li><p><strong>normal_B</strong> – Facet normal expressed in B frame components </p></li>
<li><p><strong>locationPntB_B</strong> – [m] Facet location wrt point B in B frame components </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void </p>
</dd>
</dl>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector8sunInMsgE">
<span id="_CPPv3N23FacetSRPDynamicEffector8sunInMsgE"></span><span id="_CPPv2N23FacetSRPDynamicEffector8sunInMsgE"></span><span id="FacetSRPDynamicEffector::sunInMsg__ReadFunctor:SpicePlanetStateMsgPayload:"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a5335d3d66bf6a466741f831d4e081b8c"></span><a class="reference internal" href="../../../architecture/messaging/messaging.html#_CPPv4I0E11ReadFunctor" title="ReadFunctor"><span class="n"><span class="pre">ReadFunctor</span></span></a><span class="p"><span class="pre">&lt;</span></span><a class="reference internal" href="../../../architecture/msgPayloadDefC/SpicePlanetStateMsgPayload.html#_CPPv426SpicePlanetStateMsgPayload" title="SpicePlanetStateMsgPayload"><span class="n"><span class="pre">SpicePlanetStateMsgPayload</span></span></a><span class="p"><span class="pre">&gt;</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">sunInMsg</span></span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector8sunInMsgE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Sun spice ephemeris input message. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector9numFacetsE">
<span id="_CPPv3N23FacetSRPDynamicEffector9numFacetsE"></span><span id="_CPPv2N23FacetSRPDynamicEffector9numFacetsE"></span><span id="FacetSRPDynamicEffector::numFacets__uint64_t"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a11b2b4b9c1409b8cfa767bdb244ba770"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">numFacets</span></span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector9numFacetsE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Total number of spacecraft facets. </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector6r_SN_NE">
<span id="_CPPv3N23FacetSRPDynamicEffector6r_SN_NE"></span><span id="_CPPv2N23FacetSRPDynamicEffector6r_SN_NE"></span><span id="FacetSRPDynamicEffector::r_SN_N__Eigen::Vector3d"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a103a6594f16282d463b710bc3e466be1"></span><span class="n"><span class="pre">Eigen</span></span><span class="p"><span class="pre">::</span></span><span class="n"><span class="pre">Vector3d</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">r_SN_N</span></span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector6r_SN_NE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>[m] Position vector of the Sun with respect to the inertial frame </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector11hubPositionE">
<span id="_CPPv3N23FacetSRPDynamicEffector11hubPositionE"></span><span id="_CPPv2N23FacetSRPDynamicEffector11hubPositionE"></span><span id="FacetSRPDynamicEffector::hubPosition__StateDataP"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a893cd32452deddc08244ded84d34252b"></span><a class="reference internal" href="../_GeneralModuleFiles/stateData.html#_CPPv49StateData" title="StateData"><span class="n"><span class="pre">StateData</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">hubPosition</span></span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector11hubPositionE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>[m] Hub inertial position vector </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector8hubSigmaE">
<span id="_CPPv3N23FacetSRPDynamicEffector8hubSigmaE"></span><span id="_CPPv2N23FacetSRPDynamicEffector8hubSigmaE"></span><span id="FacetSRPDynamicEffector::hubSigma__StateDataP"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a93efc38646a5c679a98a26a28e81187e"></span><a class="reference internal" href="../_GeneralModuleFiles/stateData.html#_CPPv49StateData" title="StateData"><span class="n"><span class="pre">StateData</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">hubSigma</span></span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector8hubSigmaE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>MRP attitude of the hub B frame with respect to the inertial frame. </p>
</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-private-members">Private Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N23FacetSRPDynamicEffector10scGeometryE">
<span id="_CPPv3N23FacetSRPDynamicEffector10scGeometryE"></span><span id="_CPPv2N23FacetSRPDynamicEffector10scGeometryE"></span><span id="FacetSRPDynamicEffector::scGeometry__FacetedSRPSpacecraftGeometryData"></span><span class="target" id="class_facet_s_r_p_dynamic_effector_1a36d41f3127680b76b3247daf6c063596"></span><a class="reference internal" href="#_CPPv432FacetedSRPSpacecraftGeometryData" title="FacetedSRPSpacecraftGeometryData"><span class="n"><span class="pre">FacetedSRPSpacecraftGeometryData</span></span></a><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">scGeometry</span></span></span><a class="headerlink" href="#_CPPv4N23FacetSRPDynamicEffector10scGeometryE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Structure to hold the spacecraft facet data. </p>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="_UnitTest/index.html" class="btn btn-neutral float-right" title="_UnitTest" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="facetSRPDynamicEffector" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, Autonomous Vehicle Systems (AVS) Laboratory.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>