

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>scenarioAnalyzeMonteCarlo &mdash; Basilisk 2.2.1b0 documentation</title>
  

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="MonteCarloExamples" href="index.html" />
    <link rel="prev" title="scenarioRerunMonteCarlo" href="scenarioRerunMonteCarlo.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >
          

          
            <a href="../../index.html" class="icon icon-home"> Basilisk
          

          
            
            <img src="../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                version 2.2.1b0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../Install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../Learn/bskPrinciples.html">Fundamentals of Basilisk Simulations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../index.html">Integrated Example Scripts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../index.html#orbital-simulations">Orbital Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#attitude-simulations">Attitude Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#orbit-control">Orbit Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#planetary-environments">Planetary Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#spacecraft-sensors">Spacecraft Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#spacecraft-sub-systems">Spacecraft Sub-Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#complex-spacecraft-dynamics-simulations">Complex Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#mission-simulations">Mission Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#bsksim-based-simulation">bskSim()-Based Simulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#optical-navigation-simulations">Optical Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#small-body-navigation-simulations">Small Body Navigation Simulations</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html#monte-carlo-simulations">Monte Carlo Simulations</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../scenarioMonteCarloAttRW.html">MC run with RW control</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scenarioMonteCarloSpice.html">MC run using Python Spice setup</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenario_AttFeedbackMC.html">MC run using BSK Sim Framework</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenarioRerunMonteCarlo.html">MC rerun using prior MC run parameters</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">MC Plotting using datashaders and bokeh</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html">MC example Folder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../scenarioDragSensitivity.html">Sensitivity Analysis of a differential drag spacecraft control</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#spacecraft-formation-flying">Spacecraft Formation Flying</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#advanced-simulation-options">Advanced Simulation Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#multi-threading-basilisk-simulations">Multi-Threading Basilisk Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../index.html#advanced-visualizations">Advanced Visualizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../Learn/makingModules.html">Basics of Writing Basilisk Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Forum.html">News and Discussions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">Basilisk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../Learn.html">Learning Basilisk</a> &raquo;</li>
        
          <li><a href="../index.html">Integrated Example Scripts</a> &raquo;</li>
        
      <li>scenarioAnalyzeMonteCarlo</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../_sources/examples/MonteCarloExamples/scenarioAnalyzeMonteCarlo.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="scenarioanalyzemontecarlo">
<span id="id1"></span><h1>scenarioAnalyzeMonteCarlo<a class="headerlink" href="#scenarioanalyzemontecarlo" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-scenarioAnalyzeMonteCarlo"></span><section id="motivation">
<h2>Motivation<a class="headerlink" href="#motivation" title="Permalink to this headline">¶</a></h2>
<p>This script is a basic demonstration of a script that can be used to plot Monte Carlo data with
bokeh and datashaders.   These tools are very efficient to plot large amounts of simulation data
that is likely to occur with Monte Carlo sensitivity analysis studies.  For example, running this script will
create an HTML interactive view of the simulation data.   Instead of seeing a fixed resolution, the user can
zoom into the data dynamically to see more detail.  This process recreates a newly render view of the simulation data.</p>
<p>The following two plots illustrate what this particular simulation setup will yield.</p>
<figure class="align-center" id="id2">
<span id="scenarioanalyzemontecarlo-ds0"></span><a class="reference internal image-reference" href="../../_images/ds-0.png"><img alt="../../_images/ds-0.png" src="../../_images/ds-0.png" style="width: 485.5px; height: 272.5px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 1: Full view of the attitude error plot data</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<figure class="align-center" id="id3">
<span id="scenarioanalyzemontecarlo-ds1"></span><a class="reference internal image-reference" href="../../_images/ds-1.png"><img alt="../../_images/ds-1.png" src="../../_images/ds-1.png" style="width: 487.5px; height: 274.5px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 2: Zoomed in and nearly rendered view of the attitude error data details</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
<p>The next plot illustrates the output if you run <code class="docutils literal notranslate"><span class="pre">scenario_AttFeedbackMC.py</span></code> with more simulation cases,
40 in this plot.</p>
<figure class="align-center" id="id4">
<span id="scenarioanalyzemontecarlo-ds2"></span><a class="reference internal image-reference" href="../../_images/ds-2.png"><img alt="../../_images/ds-2.png" src="../../_images/ds-2.png" style="width: 489.5px; height: 274.0px;" /></a>
<figcaption>
<p><span class="caption-text">Figure 3: Larger simulation run with 40 simulation cases shown</span><a class="headerlink" href="#id4" title="Permalink to this image">¶</a></p>
</figcaption>
</figure>
</section>
<section id="configuring-a-python-environment-for-this-script">
<h2>Configuring a Python Environment For this Script<a class="headerlink" href="#configuring-a-python-environment-for-this-script" title="Permalink to this headline">¶</a></h2>
<div class="admonition danger">
<p class="admonition-title">Danger</p>
<p>Running this script is different from running other BSK scripts.  There are very particular python
package requirements that must be carefully followed.  It is recommended the user create a
virtual python environment as discussed in the installation setup.  This environment might have to be
specific to running this script because of these dependency challenges.</p>
</div>
<p>The setup steps are as follows:</p>
<ol class="arabic">
<li><p>The datashaders etc. require that this script be run with Python 3.7, not higher</p></li>
<li><p>Create dedicated virtual environment and compile Basilisk for this environment</p></li>
<li><p>Install this particular version of <code class="docutils literal notranslate"><span class="pre">panel</span></code> package first.  It must be done alone as it upgrades
<code class="docutils literal notranslate"><span class="pre">bokeh</span></code> to a version that is too new:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">panel</span><span class="o">==</span><span class="mf">0.9.7</span>
</pre></div>
</div>
</li>
<li><p>Next, install the following particular python package versions:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">pip3</span> <span class="n">install</span> <span class="o">--</span><span class="n">upgrade</span> <span class="n">bokeh</span><span class="o">==</span><span class="mf">1.2.0</span> <span class="n">holoviews</span><span class="o">==</span><span class="mf">1.12.3</span> <span class="n">param</span><span class="o">==</span><span class="mf">1.9.3</span> <span class="n">hvplot</span><span class="o">==</span><span class="mf">0.6.0</span>
</pre></div>
</div>
</li>
</ol>
</section>
<section id="how-to-run-the-script">
<h2>How to Run the Script<a class="headerlink" href="#how-to-run-the-script" title="Permalink to this headline">¶</a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Read all three steps before advancing.</p>
</div>
<p>The next steps outline how to run this script.</p>
<ol class="arabic">
<li><p>This script can only be run once there exists data produced by the <code class="docutils literal notranslate"><span class="pre">scenario_AttFeedbackMC.py</span></code> script.</p></li>
<li><p>At the bottom of this script, comment out the name guard and associated <code class="docutils literal notranslate"><span class="pre">run()</span></code> statement,
and un-comment the following <code class="docutils literal notranslate"><span class="pre">run()</span></code> statement before this script can run.
These lines are provided in their commented/uncommented form
to ensure that the sphinx documentation generation process does not
run this script automatically.</p></li>
<li><p>This script must be called from command line using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>/$path2bin/bokeh serve --show /$path2script/scenarioAnalyzeMonteCarlo.py
</pre></div>
</div>
</li>
</ol>
<p>This will process the data created with <code class="docutils literal notranslate"><span class="pre">scenario_AttFeedbackMC.py</span></code> and open a browser window showing
Figure 1 above.  To end the script you need to press the typical key strokes to interrupt a process as the
bokeh server will keep running until stopped.</p>
<dl class="py function">
<dt class="sig sig-object py" id="scenarioAnalyzeMonteCarlo.plotSuite">
<span class="sig-prename descclassname"><span class="pre">scenarioAnalyzeMonteCarlo.</span></span><span class="sig-name descname"><span class="pre">plotSuite</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">dataDir</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/scenarioAnalyzeMonteCarlo.html#plotSuite"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenarioAnalyzeMonteCarlo.plotSuite" title="Permalink to this definition">¶</a></dt>
<dd><p>This is the function to populate with all of the plots to be generated using datashaders and bokeh.
Each variable requires a call to <code class="docutils literal notranslate"><span class="pre">pull_and_format_df()</span></code> to ensure the dataframe will be compatible with
the developed datashader utilities.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>dataDir</strong> – (str) directory containing all of the dataframes created from the Monte Carlo run</p>
</dd>
</dl>
<p>Returns: List of DS_Plots</p>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scenarioAnalyzeMonteCarlo.run">
<span class="sig-prename descclassname"><span class="pre">scenarioAnalyzeMonteCarlo.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">show_plots</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../_modules/scenarioAnalyzeMonteCarlo.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenarioAnalyzeMonteCarlo.run" title="Permalink to this definition">¶</a></dt>
<dd><p><strong>This script is meant to be configured based on the user’s needs. It can be configured using the following
three booleans:</strong></p>
<p>First, set <code class="docutils literal notranslate"><span class="pre">show_all_data</span> <span class="pre">=</span> <span class="pre">True</span></code> to get a broad view of the data and find a time window to investigate closer.</p>
<p>Once the data is characterized, the user can set <code class="docutils literal notranslate"><span class="pre">show_extreme_data</span> <span class="pre">=</span> <span class="pre">True</span></code> to look at specific run cases
within the window.</p>
<p>Finally, the user can set <code class="docutils literal notranslate"><span class="pre">show_optional_data</span> <span class="pre">=</span> <span class="pre">True</span></code> to look at any extra data to determine why the extrema
cases exist.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>show_all_data</strong> – plot all MC runs for the plots specified in the plotSuite method</p></li>
<li><p><strong>show_extreme_data</strong> – call plotSuite method for user-defined number of extrema MC runs</p></li>
<li><p><strong>optional_plots</strong> – plots additional user-defined plots</p></li>
</ul>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="index.html" class="btn btn-neutral float-right" title="MonteCarloExamples" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="scenarioRerunMonteCarlo.html" class="btn btn-neutral float-left" title="scenarioRerunMonteCarlo" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, Autonomous Vehicle Systems (AVS) Laboratory.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>