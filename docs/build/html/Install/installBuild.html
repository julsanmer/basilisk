

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Building the Software Framework &mdash; Basilisk 2.2.1b0 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Building Custom Modules" href="buildExtModules.html" />
    <link rel="prev" title="Setup On Windows" href="installOnWindows.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >
          

          
            <a href="../index.html" class="icon icon-home"> Basilisk
          

          
            
            <img src="../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                version 2.2.1b0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../Install.html">Install</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="pullCloneBSK.html">Download Source Code</a></li>
<li class="toctree-l2"><a class="reference internal" href="installOnLinux.html">Setup On Linux</a></li>
<li class="toctree-l2"><a class="reference internal" href="installOnMacOS.html">Setup On macOS</a></li>
<li class="toctree-l2"><a class="reference internal" href="installOnWindows.html">Setup On Windows</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Building the Software Framework</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#one-step-configuring-and-building-the-basilisk-framework">One-Step Configuring and Building the Basilisk Framework</a></li>
<li class="toctree-l3"><a class="reference internal" href="#configuring-and-building-with-conan-commands">Configuring and Building with <code class="docutils literal notranslate"><span class="pre">conan</span></code> Commands</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#step-1-installing-basilisk-dependencies">Step 1: Installing Basilisk Dependencies</a></li>
<li class="toctree-l4"><a class="reference internal" href="#step-2-creating-the-ide-project">Step 2: Creating the IDE Project</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-cmake-directly">Running <code class="docutils literal notranslate"><span class="pre">cmake</span></code> Directly</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#macos-example">macOS Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#linux-example">Linux Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="#windows-examples">Windows Examples</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="#running-project-tests">Running Project Tests</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="buildExtModules.html">Building Custom Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="installOptionalPackages.html">Installing Optional Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="customPython.html">Using a Custom Python Installation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../Learn.html">Learning Basilisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Forum.html">News and Discussions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">Basilisk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../Install.html">Install</a> &raquo;</li>
        
      <li>Building the Software Framework</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/Install/installBuild.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="toctree-wrapper compound">
</div>
<iframe width="560" height="315" src="https://www.youtube.com/embed/t9VrmrVfJ0M" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><section id="building-the-software-framework">
<span id="configurebuild"></span><h1>Building the Software Framework<a class="headerlink" href="#building-the-software-framework" title="Permalink to this headline">¶</a></h1>
<p>This documents discusses the various  build options that can be
used when configuring and compiling Basilisk. The build system makes use of the <code class="docutils literal notranslate"><span class="pre">conan</span></code>
<a class="reference external" href="https://docs.conan.io/en/latest/">package manager</a> which provides for cross platform manner support.
As a result the Basilisk build instructions are platform agnostic.</p>
<p>This page is broken up into distinct manners of building Basilisk starting with the simplest method that should work
for the majority of users.  This is followed by increasingly more detailed discussions on the build system for users
who want to customize.</p>
<section id="one-step-configuring-and-building-the-basilisk-framework">
<h2>One-Step Configuring and Building the Basilisk Framework<a class="headerlink" href="#one-step-configuring-and-building-the-basilisk-framework" title="Permalink to this headline">¶</a></h2>
<p>If you just installed the Basilisk source code, or changed any source file, you will want to recreate the Basilisk IDE
project or makefile to compile it.  This creates or updates the project file to included the latest Basilisk source
code.  From the Basilisk root directory, this is done simply using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">conanfile</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
<p>This one-line step will use <code class="docutils literal notranslate"><span class="pre">conan</span></code> to:</p>
<ul class="simple">
<li><p>pull and compile any resource dependencies such a protobuffer, etc.</p></li>
<li><p>configure the Xcode (macOS) or Visual Studio (Windows) IDE project in the <code class="docutils literal notranslate"><span class="pre">dist3</span></code> folder,
or create the makefile for Linux systems</p></li>
<li><p>build the project.</p></li>
</ul>
<p>By default the build is for Python3 with the support for <a class="reference internal" href="../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>
included to enable recording data for or live-streaming to <a class="reference internal" href="../Vizard/Vizard.html#vizard"><span class="std std-ref">Vizard</span></a>.</p>
<p>The script accepts the following options to customize this process.</p>
<span id="buildtable1label"></span><table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Options for One-Step Configure/Build Process</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Values</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">vizInterface</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>True</p></td>
<td><p>Includes the <a class="reference external" href="https://developers.google.com/protocol-buffers">Google Protobuffer</a> library to package
up Vizard data messages, and the <a class="reference external" href="https://zeromq.org">Zero-MQ</a> library to communicate with Vizard.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">opNav</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>False</p></td>
<td><p>Includes <a class="reference external" href="https://opencv.org">OpenCV</a> library to create visual navigation modules that use OpenCV to
process sensor images.  If this option is selected,
then the dependencies of  <code class="docutils literal notranslate"><span class="pre">vizInterface</span></code> are also loaded as some components require the same libraries.
Note that OpenCL related dependencies can take a while to compile, 10-20minutes is not unusual.  However,
once install they don’t need to be rebuilt unless <code class="docutils literal notranslate"><span class="pre">.conan</span></code> is deleted or the dependency changes.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">clean</span></code></p></td>
<td></td>
<td><p>None</p></td>
<td><p>If flag is set, this forces the distribution folder <code class="docutils literal notranslate"><span class="pre">dist3</span></code> to be deleted to create a fresh setup and build</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">buildProject</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>True</p></td>
<td><p>If set to True, this option will compile the project right away after creating the IDE or make file</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">buildType</span></code></p></td>
<td><p>Release, Debug</p></td>
<td><p>Release</p></td>
<td><p>Sets the build type.  This does not apply to the IDE project like Xcode and Visual Studio which
control the build type through their interface.</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">generator</span></code></p></td>
<td><p>see <a class="reference external" href="https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html">here</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">XCode</span></code> (macOS), <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">16</span> <span class="pre">2019</span></code> (Windows), <code class="docutils literal notranslate"><span class="pre">None</span></code> (Linux)</p></td>
<td><p>If not set the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> build generator is automatically selected to be <code class="docutils literal notranslate"><span class="pre">XCode</span></code> for macOS,
<code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">16</span> <span class="pre">2019</span></code> on Windows, and <code class="docutils literal notranslate"><span class="pre">None</span></code> for Linux which create a make file on this platform.
It can also be set through this
flag.  If unsure what generators are supported on your platform, open a terminal window and
type <code class="docutils literal notranslate"><span class="pre">cmake</span> <span class="pre">--help</span></code> to get a list of supported generator strings.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">autoKey</span></code></p></td>
<td><p>String ‘s’ or ‘u’</p></td>
<td><p>Empty</p></td>
<td><p>This is used to automatically respond to the python packaging installation requests to install the
package for the user (u) or system (s).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">allOptPkg</span></code></p></td>
<td></td>
<td><p>None</p></td>
<td><p>If flag is set the all optional Basilisk python package depenencies are installed</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">pathToExternalModules</span></code></p></td>
<td><p>String</p></td>
<td><p>Empty</p></td>
<td><p>path to external modules folder, see <a class="reference internal" href="buildExtModules.html#buildextmodules"><span class="std std-ref">Building Custom Modules</span></a></p></td>
</tr>
</tbody>
</table>
<p>Thus, for example, to create a build with <code class="docutils literal notranslate"><span class="pre">opNav</span></code> modes enabled, but no <a class="reference internal" href="../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>, and using a
clean distribution folder, and that is built right away, you could use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">conanfile</span><span class="o">.</span><span class="n">py</span> <span class="o">--</span><span class="n">clean</span> <span class="o">--</span><span class="n">opNav</span> <span class="kc">True</span> <span class="o">--</span><span class="n">vizInterface</span> <span class="kc">False</span> <span class="o">--</span><span class="n">buildProject</span> <span class="kc">True</span>
</pre></div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">buildProject</span></code> argument here is optional as its default value is <code class="docutils literal notranslate"><span class="pre">True</span></code>.</p>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you switch between building for release (default) and debug, you must re-run this command again.  Otherwise
you will not have the correct conan dependencies included for your build type.  In the IDE like Xcode, for
example, if you do a regular build you are building for debug, not for release.  Thus, be mindful of how
you are building the code.</p>
</div>
</section>
<section id="configuring-and-building-with-conan-commands">
<h2>Configuring and Building with <code class="docutils literal notranslate"><span class="pre">conan</span></code> Commands<a class="headerlink" href="#configuring-and-building-with-conan-commands" title="Permalink to this headline">¶</a></h2>
<p>Calling <code class="docutils literal notranslate"><span class="pre">conanfile.py</span></code> with python executes a method that calls two separate <code class="docutils literal notranslate"><span class="pre">conan</span></code> function to setup and
configure process, and build the executable if desired.  This section outlines this 2-step build process for
those that seek to build it this way.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>All commands are called from the Basilisk root directory.</p>
</div>
<section id="step-1-installing-basilisk-dependencies">
<h3>Step 1: Installing Basilisk Dependencies<a class="headerlink" href="#step-1-installing-basilisk-dependencies" title="Permalink to this headline">¶</a></h3>
<p>The first command, in its minimalist form, is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conan</span> <span class="n">install</span> <span class="o">.</span> <span class="o">-</span><span class="k">if</span> <span class="n">dist3</span><span class="o">/</span><span class="n">conan</span> <span class="o">--</span><span class="n">build</span><span class="o">=</span><span class="n">missing</span>
</pre></div>
</div>
<p>This conan command will create the distribution folder, <code class="docutils literal notranslate"><span class="pre">dist3</span></code> in the above case, if needed, collect all the
require Basilisk 3rd party resources and compile them if their binaries are missing.  The cmake files to access these
3rd party libraries are stored in <code class="docutils literal notranslate"><span class="pre">dist3/conan</span></code>.</p>
<p>There are several options that can be provided to this <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> command as shown in the following table.
Note that the option names for groupings of Basilisk modules are the same as with the one-step build above.</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Options for <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> Step</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 15%" />
<col style="width: 15%" />
<col style="width: 10%" />
<col style="width: 60%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Option</p></th>
<th class="head"><p>Values</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">vizInterface</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>True</p></td>
<td><p>Include <a class="reference internal" href="../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a> in the configuration and build</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">opNav</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>False</p></td>
<td><p>Include the <a class="reference external" href="https://opencv.org">OpenCV</a> library dependent Basilisk modules.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">clean</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>False</p></td>
<td><p>Delete the distribution folder before configuring to yield a fresh build</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">buildProject</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>True</p></td>
<td><p>Will build the project executable after the configuration step</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-s</span> <span class="pre">build_type</span></code></p></td>
<td><p>Release, Debug</p></td>
<td><p>Release</p></td>
<td><p>Specifies the build type</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">generator</span></code></p></td>
<td><p>see <a class="reference external" href="https://cmake.org/cmake/help/latest/manual/cmake-generators.7.html">here</a></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">XCode</span></code> (macOS), <code class="docutils literal notranslate"><span class="pre">Visual</span> <span class="pre">Studio</span> <span class="pre">16</span> <span class="pre">2019</span></code> (Windows), <code class="docutils literal notranslate"><span class="pre">None</span></code> (Linux)</p></td>
<td><p>Used to specify a specific <code class="docutils literal notranslate"><span class="pre">cmake</span></code> generator.  See discussion in Table <a class="reference internal" href="#buildtable1label"><span class="std std-ref">Options for One-Step Configure/Build Process</span></a>.</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">autoKey</span></code></p></td>
<td><p>String ‘s’ or ‘u’</p></td>
<td><p>Empty</p></td>
<td><p>This is used to automatically respond to the python packaging installation requests to install the
package for the user (u) or system (s).</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">-o</span> <span class="pre">allOptPkg</span></code></p></td>
<td><p>Boolean</p></td>
<td><p>False</p></td>
<td><p>Install all of the optional Basilisk python package dependencies</p></td>
</tr>
</tbody>
</table>
<p>Thus, using the same build example as in the one-step section, to create a build with <code class="docutils literal notranslate"><span class="pre">opNav</span></code> modes enabled,
but no <a class="reference internal" href="../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a>, and using a clean distribution folder, and that is built right away, you could use:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conan</span> <span class="n">install</span> <span class="o">.</span> <span class="o">-</span><span class="k">if</span> <span class="n">dist3</span><span class="o">/</span><span class="n">conan</span> <span class="o">--</span><span class="n">build</span><span class="o">=</span><span class="n">missing</span> <span class="o">-</span><span class="n">o</span> <span class="n">clean</span><span class="o">=</span><span class="kc">True</span> <span class="o">-</span><span class="n">o</span> <span class="n">buildProject</span><span class="o">=</span><span class="kc">True</span> <span class="o">-</span><span class="n">o</span> <span class="n">opNav</span><span class="o">=</span><span class="kc">True</span> <span class="o">-</span><span class="n">o</span> <span class="n">vizInterface</span><span class="o">=</span><span class="kc">False</span>
</pre></div>
</div>
<p>Note how much more verbose this is, but it gives you full control if you want to store the compiled binaries and
cmake files in directories other than <code class="docutils literal notranslate"><span class="pre">dist3/conan</span></code>.</p>
</section>
<section id="step-2-creating-the-ide-project">
<h3>Step 2: Creating the IDE Project<a class="headerlink" href="#step-2-creating-the-ide-project" title="Permalink to this headline">¶</a></h3>
<p>The final step is to create the IDE project file and possibly build the executables directly.
At this stage there are no options to be provided.  This step is done with:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">conan</span> <span class="n">build</span> <span class="o">.</span> <span class="o">-</span><span class="k">if</span> <span class="n">dist3</span><span class="o">/</span><span class="n">conan</span>
</pre></div>
</div>
<div class="admonition warning">
<p class="admonition-title">Warning</p>
<p>If you want the <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">build</span></code> command to automatically compile the code, the <code class="docutils literal notranslate"><span class="pre">buildProject</span></code> option
must be set in the <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> step.</p>
</div>
</section>
</section>
<section id="running-cmake-directly">
<h2>Running <code class="docutils literal notranslate"><span class="pre">cmake</span></code> Directly<a class="headerlink" href="#running-cmake-directly" title="Permalink to this headline">¶</a></h2>
<p>The <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">install</span></code> command must always be run to install the required dependencies and compile them.  If the
developer wishes, the <code class="docutils literal notranslate"><span class="pre">cmake</span></code> can be run directly from the <code class="docutils literal notranslate"><span class="pre">dist3</span></code> distribution folder instead
of relying on the <code class="docutils literal notranslate"><span class="pre">conan</span> <span class="pre">build</span></code> step discussed above.</p>
<p>The following table summarizes the optional Basilisk related flags that can be provided to <code class="docutils literal notranslate"><span class="pre">cmake</span></code>.  If
they are not used, then the shown default behaviors are used.</p>
<table class="colwidths-given docutils align-default" id="id3">
<caption><span class="caption-text"><code class="docutils literal notranslate"><span class="pre">cmake</span></code> Basilisk Build Flags</span><a class="headerlink" href="#id3" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 23%" />
<col style="width: 14%" />
<col style="width: 64%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>cmake Flag</p></th>
<th class="head"><p>Default</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">BUILD_VIZINTERFACE</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">ON</span></code></p></td>
<td><p>will create <a class="reference internal" href="../Documentation/simulation/vizard/vizInterface/vizInterface.html#vizinterface"><span class="std std-ref">Module: vizInterface</span></a></p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">BUILD_OPNAV</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">OFF</span></code></p></td>
<td><p>will create the OpenCL dependent optical navigation related modules</p></td>
</tr>
</tbody>
</table>
<section id="macos-example">
<h3>macOS Example<a class="headerlink" href="#macos-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cmake ../src -G Xcode -DBUILD_OPNAV=ON
</pre></div>
</div>
</section>
<section id="linux-example">
<h3>Linux Example<a class="headerlink" href="#linux-example" title="Permalink to this headline">¶</a></h3>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cmake -G &quot;Unix Makefiles&quot; -DCMAKE_BUILD_TYPE=Release ../src
</pre></div>
</div>
</section>
<section id="windows-examples">
<h3>Windows Examples<a class="headerlink" href="#windows-examples" title="Permalink to this headline">¶</a></h3>
<ul>
<li><p>Example direct build on Windows:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">G</span> <span class="s2">&quot;Visual Studio &lt;MSVC Version&gt; &lt;MSVC Product Year&gt; Win&lt;arch&gt;&quot;</span> <span class="o">../</span><span class="n">src</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span>
<span class="n">cmake</span> <span class="o">--</span><span class="n">build</span> <span class="o">.</span> <span class="o">--</span><span class="n">target</span> <span class="n">ALL_BUILD</span> <span class="o">--</span><span class="n">config</span> <span class="n">Release</span>
</pre></div>
</div>
</li>
<li><p>Example <code class="docutils literal notranslate"><span class="pre">cmake</span></code> commands using x86:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">cmake</span> <span class="o">-</span><span class="n">G</span> <span class="s2">&quot;Visual Studio &lt;MSVC Version&gt; &lt;MSVC Product Year&gt; Win32&quot;</span> <span class="o">../</span><span class="n">src</span> <span class="o">-</span><span class="n">DCMAKE_BUILD_TYPE</span><span class="o">=</span><span class="n">Release</span>
</pre></div>
</div>
<table class="colwidths-given docutils align-default" id="id4">
<caption><span class="caption-text">MSVC Mapping</span><a class="headerlink" href="#id4" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 50%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>MSVC Product Year</p></th>
<th class="head"><p>MSVC Version</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>2019</p></td>
<td><p>16</p></td>
</tr>
<tr class="row-odd"><td><p>2017</p></td>
<td><p>15.9</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>15.8</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>15.7</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>15.6</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>15.5</p></td>
</tr>
<tr class="row-even"><td></td>
<td><p>15.4 - 15.3</p></td>
</tr>
<tr class="row-odd"><td></td>
<td><p>15.2 - 15.0</p></td>
</tr>
<tr class="row-even"><td><p>2015</p></td>
<td><p>14</p></td>
</tr>
<tr class="row-odd"><td><p>2013</p></td>
<td><p>12</p></td>
</tr>
<tr class="row-even"><td><p>2012</p></td>
<td><p>11</p></td>
</tr>
</tbody>
</table>
</li>
</ul>
<p>Example build commands for Arch x86, MSVC Year 2017, MSVC Version 15:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cmake -G “Visual Studio 15 2017 Win32” ../src
</pre></div>
</div>
<p>Example build commands forArch x64, MSVC Year 2019, MSVC Version 16:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>cmake -G “Visual Studio 16 2019” -A x64 ../src -DCMAKE_BUILD_TYPE=Release

cmake -G “Visual Studio 15 2017 Win64” ../src -DCMAKE_BUILD_TYPE=Release
</pre></div>
</div>
</section>
</section>
<section id="running-project-tests">
<h2>Running Project Tests<a class="headerlink" href="#running-project-tests" title="Permalink to this headline">¶</a></h2>
<p>The project employs two testing frameworks, specifically <a class="reference external" href="https://pytest.org">Pytest</a> for python
executed tests and <a class="reference external" href="https://github.com/google/googletest">Google Test</a> for C/C++ executed tests.</p>
<p>To run all tests execute the following from the project root directory</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">python run_all_test.py</span>
</pre></div>
</div>
<p>To run only the python test use the following commands.  Please see <a class="reference internal" href="installOptionalPackages.html#installoptionalpackages"><span class="std std-ref">Installing Optional Packages</span></a> on how to
run an optional multi-processing version of <code class="docutils literal notranslate"><span class="pre">pytest</span></code>.</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd src</span>
<span class="go">pytest</span>
</pre></div>
</div>
<p>To run only the C/C++ tests use</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">cd dist3</span>
<span class="go">ctest</span>
</pre></div>
</div>
<p>or on macOS <code class="docutils literal notranslate"><span class="pre">ctest</span> <span class="pre">-C</span> <span class="pre">&lt;Release</span> <span class="pre">or</span> <span class="pre">Debug&gt;</span></code>.</p>
</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="buildExtModules.html" class="btn btn-neutral float-right" title="Building Custom Modules" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="installOnWindows.html" class="btn btn-neutral float-left" title="Setup On Windows" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, Autonomous Vehicle Systems (AVS) Laboratory.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>