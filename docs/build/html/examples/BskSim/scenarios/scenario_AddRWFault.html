

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>scenario_AddRWFault &mdash; Basilisk 2.2.1b0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../" src="../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../" id="documentation_options" src="../../../_static/documentation_options.js"></script>
        <script src="../../../_static/jquery.js"></script>
        <script src="../../../_static/underscore.js"></script>
        <script src="../../../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
    <link rel="next" title="BskSim" href="../index.html" />
    <link rel="prev" title="scenario_AttModes" href="scenario_AttModes.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >
          

          
            <a href="../../../index.html" class="icon icon-home"> Basilisk
          

          
            
            <img src="../../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                version 2.2.1b0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../Install.html">Install</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../Learn.html">Learning Basilisk</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../Learn/bskPrinciples.html">Fundamentals of Basilisk Simulations</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">Integrated Example Scripts</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../index.html#orbital-simulations">Orbital Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#attitude-simulations">Attitude Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#orbit-control">Orbit Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#planetary-environments">Planetary Environments</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#spacecraft-sensors">Spacecraft Sensors</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#spacecraft-sub-systems">Spacecraft Sub-Systems</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#complex-spacecraft-dynamics-simulations">Complex Spacecraft Dynamics Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#mission-simulations">Mission Simulations</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../../index.html#bsksim-based-simulation">bskSim()-Based Simulation</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="scenario_BasicOrbit.html">Basic Orbital Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenario_FeedbackRW.html">Attitude Detumble Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenario_AttGuidance.html">Hill Pointing Attitude Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenario_AttGuidHyperbolic.html">Velocity Frame Pointing Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenario_AttSteering.html">MRP Steering Attitude Control</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenario_AttEclipse.html">Sun Pointing Mode Include Eclipse Evaluation</a></li>
<li class="toctree-l4"><a class="reference internal" href="scenario_AttModes.html">Alternating FSW Attitude Pointing Modes</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="#">Reaction Wheel Fault Scenario Simulation</a></li>
<li class="toctree-l4"><a class="reference internal" href="../index.html">bskSim Scenarios Folder</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#optical-navigation-simulations">Optical Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#small-body-navigation-simulations">Small Body Navigation Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#monte-carlo-simulations">Monte Carlo Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#spacecraft-formation-flying">Spacecraft Formation Flying</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#advanced-simulation-options">Advanced Simulation Options</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#multi-threading-basilisk-simulations">Multi-Threading Basilisk Simulations</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../index.html#advanced-visualizations">Advanced Visualizations</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../Learn/makingModules.html">Basics of Writing Basilisk Modules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../Support.html">Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Documentation/index.html">Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Forum.html">News and Discussions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../index.html">Basilisk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../Learn.html">Learning Basilisk</a> &raquo;</li>
        
          <li><a href="../../index.html">Integrated Example Scripts</a> &raquo;</li>
        
      <li>scenario_AddRWFault</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../_sources/examples/BskSim/scenarios/scenario_AddRWFault.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="scenario-addrwfault">
<span id="id1"></span><h1>scenario_AddRWFault<a class="headerlink" href="#scenario-addrwfault" title="Permalink to this headline">¶</a></h1>
<div class="toctree-wrapper compound">
</div>
<span class="target" id="module-scenario_AddRWFault"></span><section id="overview">
<h2>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h2>
<p>This script demonstrates how to use event handlers to add reaction wheel faults. The script is found in the folder <code class="docutils literal notranslate"><span class="pre">basilisk/examples/BskSim/scenarios</span></code> and executed by using:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">python3</span> <span class="n">scenario_AddRWFault</span><span class="o">.</span><span class="n">py</span>
</pre></div>
</div>
</section>
<section id="using-event-handlers">
<h2>Using event handlers<a class="headerlink" href="#using-event-handlers" title="Permalink to this headline">¶</a></h2>
<p>The event handler class, defined in <code class="docutils literal notranslate"><span class="pre">SimulationBaseClass</span></code>, allows the user to define events. These events can be used for a variety of reasons, ranging from changing flight modes to creating faults. The events used in this example are defined in <code class="docutils literal notranslate"><span class="pre">BSK_Dynamics</span></code>.</p>
<p>When creating an event handler, the following syntax is used:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SimBase</span><span class="o">.</span><span class="n">createNewEvent</span><span class="p">(</span><span class="s2">&quot;eventName&quot;</span><span class="p">,</span> <span class="n">eventRate</span><span class="p">,</span> <span class="n">eventActive</span><span class="p">,</span>
    <span class="n">conditionList</span><span class="o">=</span><span class="p">[],</span> <span class="n">actionList</span> <span class="o">=</span> <span class="p">[])</span>
</pre></div>
</div>
<p>Within the condition list should be the conditions for executing the event, specified as strings. Likewise, the action list enumerates strings that are executed when the event happens. Because the code parses these strings, rather than having complex conditions or actions in the string literals, it can be convenient to create methods (see the examples below).</p>
<p>By default, after the event has happened once, the eventActive flag is turned to false. For repeated events, this behavior can be overriden by calling the function <code class="docutils literal notranslate"><span class="pre">setEventActivity</span></code>. Likewise, the eventActive flags of other events can be set using <code class="docutils literal notranslate"><span class="pre">setAllButCurrentEventActivity</span></code>. See the associated documentation for more details.</p>
</section>
<section id="setting-up-the-faults">
<h2>Setting up the faults<a class="headerlink" href="#setting-up-the-faults" title="Permalink to this headline">¶</a></h2>
<p>This script uses two event handlers. The first one defines an event that injects a large, one-time static friction fault:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SimBase</span><span class="o">.</span><span class="n">createNewEvent</span><span class="p">(</span><span class="s2">&quot;addOneTimeRWFault&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">processTasksTimeStep</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;self.TotalSim.CurrentNanos&gt;=self.oneTimeFaultTime and self.oneTimeRWFaultFlag==1&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;self.DynModels.AddRWFault(&#39;friction&#39;,0.05,1, self.TotalSim.CurrentNanos)&quot;</span><span class="p">,</span> <span class="s2">&quot;self.oneTimeRWFaultFlag=0&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>For this event, the conditions are that the time for the fault has passed, and that the corresponding fault flag is active. The fault time is specified in the scenario script. The <code class="docutils literal notranslate"><span class="pre">oneTimeRWFaultFlag</span></code> and the <code class="docutils literal notranslate"><span class="pre">repeatRWFaultFlag</span></code>, also set in the scenario script, ensures that the faults are added only for the fault scenario.</p>
<p>The second event handler defines an event that is always active, and adds a smaller static friction fault with small probability:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SimBase</span><span class="o">.</span><span class="n">createNewEvent</span><span class="p">(</span><span class="s2">&quot;addRepeatedRWFault&quot;</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">processTasksTimeStep</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span>
    <span class="p">[</span><span class="s2">&quot;self.repeatRWFaultFlag==1&quot;</span><span class="p">],</span>
    <span class="p">[</span><span class="s2">&quot;self.DynModels.PeriodicRWFault(1./3000,&#39;friction&#39;,0.005,1, self.TotalSim.CurrentNanos)&quot;</span><span class="p">,</span> <span class="s2">&quot;self.setEventActivity(&#39;addRepeatedRWFault&#39;,True)&quot;</span><span class="p">])</span>
</pre></div>
</div>
<p>Note the command <code class="docutils literal notranslate"><span class="pre">&quot;self.setEventActivity('addRepeatedRWFault',True)&quot;</span></code>, keeping the eventActive flag turned on for this event handler. For both event handlers, the particular methods that change the reaction wheel friction parameters are defined in <code class="docutils literal notranslate"><span class="pre">BSK_Dynamics</span></code>.</p>
</section>
<section id="illustration-of-simulation-results">
<h2>Illustration of Simulation Results<a class="headerlink" href="#illustration-of-simulation-results" title="Permalink to this headline">¶</a></h2>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">showPlots</span> <span class="o">=</span> <span class="kc">True</span>
</pre></div>
</div>
<img alt="../../../_images/scenario_AddRWFault_rateError.svg" class="align-center" src="../../../_images/scenario_AddRWFault_rateError.svg" /><img alt="../../../_images/scenario_AddRWFault_attitudeErrorNorm.svg" class="align-center" src="../../../_images/scenario_AddRWFault_attitudeErrorNorm.svg" /><img alt="../../../_images/scenario_AddRWFault_RWSpeeds.svg" class="align-center" src="../../../_images/scenario_AddRWFault_RWSpeeds.svg" /><img alt="../../../_images/scenario_AddRWFault_RWFriction.svg" class="align-center" src="../../../_images/scenario_AddRWFault_RWFriction.svg" /><dl class="py function">
<dt class="sig sig-object py" id="scenario_AddRWFault.run">
<span class="sig-prename descclassname"><span class="pre">scenario_AddRWFault.</span></span><span class="sig-name descname"><span class="pre">run</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">showPlots</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/scenario_AddRWFault.html#run"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario_AddRWFault.run" title="Permalink to this definition">¶</a></dt>
<dd><p>The scenarios can be run with the following parameters:</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><p><strong>showPlots</strong> (<em>bool</em>) – Determines if the script should display plots</p>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="scenario_AddRWFault.runScenario">
<span class="sig-prename descclassname"><span class="pre">scenario_AddRWFault.</span></span><span class="sig-name descname"><span class="pre">runScenario</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">scenario</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/scenario_AddRWFault.html#runScenario"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario_AddRWFault.runScenario" title="Permalink to this definition">¶</a></dt>
<dd><p>method to initialize and execute the scenario</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="scenario_AddRWFault.scenario_AddRWFault">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">scenario_AddRWFault.</span></span><span class="sig-name descname"><span class="pre">scenario_AddRWFault</span></span><a class="reference internal" href="../../../_modules/scenario_AddRWFault.html#scenario_AddRWFault"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario_AddRWFault.scenario_AddRWFault" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference internal" href="../BSK_masters.html#BSK_masters.BSKSim" title="BSK_masters.BSKSim"><code class="xref py py-class docutils literal notranslate"><span class="pre">BSK_masters.BSKSim</span></code></a>, <code class="xref py py-class docutils literal notranslate"><span class="pre">BSK_masters.BSKScenario</span></code></p>
<dl class="py method">
<dt class="sig sig-object py" id="scenario_AddRWFault.scenario_AddRWFault.configure_initial_conditions">
<span class="sig-name descname"><span class="pre">configure_initial_conditions</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/scenario_AddRWFault.html#scenario_AddRWFault.configure_initial_conditions"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario_AddRWFault.scenario_AddRWFault.configure_initial_conditions" title="Permalink to this definition">¶</a></dt>
<dd><p>Developer must override this method in their BSK_Scenario derived subclass.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario_AddRWFault.scenario_AddRWFault.log_outputs">
<span class="sig-name descname"><span class="pre">log_outputs</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/scenario_AddRWFault.html#scenario_AddRWFault.log_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario_AddRWFault.scenario_AddRWFault.log_outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Developer must override this method in their BSK_Scenario derived subclass.</p>
</dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="scenario_AddRWFault.scenario_AddRWFault.pull_outputs">
<span class="sig-name descname"><span class="pre">pull_outputs</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">showPlots</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../../../_modules/scenario_AddRWFault.html#scenario_AddRWFault.pull_outputs"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#scenario_AddRWFault.scenario_AddRWFault.pull_outputs" title="Permalink to this definition">¶</a></dt>
<dd><p>Developer must override this method in their BSK_Scenario derived subclass.</p>
</dd></dl>

</dd></dl>

</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="../index.html" class="btn btn-neutral float-right" title="BskSim" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="scenario_AttModes.html" class="btn btn-neutral float-left" title="scenario_AttModes" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, Autonomous Vehicle Systems (AVS) Laboratory.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>