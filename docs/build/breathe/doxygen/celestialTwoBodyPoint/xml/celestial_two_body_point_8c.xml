<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.9.8" xml:lang="en-US">
  <compounddef id="celestial_two_body_point_8c" kind="file" language="C++">
    <compoundname>celestialTwoBodyPoint.c</compoundname>
    <includes local="no">string.h</includes>
    <includes local="no">math.h</includes>
    <includes refid="celestial_two_body_point_8h" local="yes">fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.h</includes>
    <includes local="yes">architecture/utilities/linearAlgebra.h</includes>
    <includes local="yes">architecture/utilities/rigidBodyKinematics.h</includes>
    <includes local="yes">architecture/utilities/macroDefinitions.h</includes>
    <incdepgraph>
      <node id="1">
        <label>/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c</label>
        <link refid="celestial_two_body_point_8c"/>
        <childnode refid="2" relation="include">
        </childnode>
        <childnode refid="3" relation="include">
        </childnode>
        <childnode refid="4" relation="include">
        </childnode>
        <childnode refid="10" relation="include">
        </childnode>
        <childnode refid="11" relation="include">
        </childnode>
        <childnode refid="12" relation="include">
        </childnode>
      </node>
      <node id="4">
        <label>fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.h</label>
        <link refid="celestial_two_body_point_8h_source"/>
        <childnode refid="5" relation="include">
        </childnode>
        <childnode refid="6" relation="include">
        </childnode>
        <childnode refid="7" relation="include">
        </childnode>
        <childnode refid="8" relation="include">
        </childnode>
        <childnode refid="9" relation="include">
        </childnode>
      </node>
      <node id="9">
        <label>architecture/utilities/bskLogging.h</label>
      </node>
      <node id="10">
        <label>architecture/utilities/linearAlgebra.h</label>
      </node>
      <node id="12">
        <label>architecture/utilities/macroDefinitions.h</label>
      </node>
      <node id="11">
        <label>architecture/utilities/rigidBodyKinematics.h</label>
      </node>
      <node id="8">
        <label>cMsgCInterface/AttRefMsg_C.h</label>
      </node>
      <node id="6">
        <label>cMsgCInterface/EphemerisMsg_C.h</label>
      </node>
      <node id="7">
        <label>cMsgCInterface/NavTransMsg_C.h</label>
      </node>
      <node id="3">
        <label>math.h</label>
      </node>
      <node id="5">
        <label>stdint.h</label>
      </node>
      <node id="2">
        <label>string.h</label>
      </node>
    </incdepgraph>
    <sectiondef kind="define">
      <memberdef kind="define" id="celestial_two_body_point_8c_1a525335710b53cb064ca56b936120431e" prot="public" static="no">
        <name>_USE_MATH_DEFINES</name>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" line="22" column="9" bodyfile="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" bodystart="22" bodyend="-1"/>
      </memberdef>
    </sectiondef>
    <sectiondef kind="func">
      <memberdef kind="function" id="celestial_two_body_point_8c_1a0efeb3e396530837b5b784a48e75dd5c" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void SelfInit_celestialTwoBodyPoint</definition>
        <argsstring>(celestialTwoBodyPointConfig *configData, int64_t moduleID)</argsstring>
        <name>SelfInit_celestialTwoBodyPoint</name>
        <param>
          <type><ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref> *</type>
          <declname>configData</declname>
        </param>
        <param>
          <type>int64_t</type>
          <declname>moduleID</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>This method initializes the configData for the nominal delta-V maneuver guidance. It checks to ensure that the inputs are sane and then creates the output message <simplesect kind="return"><para>void </para>
</simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>configData</parametername>
</parameternamelist>
<parameterdescription>
<para>The configuration data associated with the celestial body guidance </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>moduleID</parametername>
</parameternamelist>
<parameterdescription>
<para>The ID associated with the configData </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" line="38" column="6" bodyfile="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" bodystart="38" bodyend="44"/>
      </memberdef>
      <memberdef kind="function" id="celestial_two_body_point_8c_1a04fa72e46641e3826130fafb12dbe84d" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Reset_celestialTwoBodyPoint</definition>
        <argsstring>(celestialTwoBodyPointConfig *configData, uint64_t callTime, int64_t moduleID)</argsstring>
        <name>Reset_celestialTwoBodyPoint</name>
        <param>
          <type><ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref> *</type>
          <declname>configData</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>callTime</declname>
        </param>
        <param>
          <type>int64_t</type>
          <declname>moduleID</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" line="47" column="6" bodyfile="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" bodystart="47" bodyend="60"/>
      </memberdef>
      <memberdef kind="function" id="celestial_two_body_point_8c_1ab32df1abb660d6a31a377054a3923a53" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void Update_celestialTwoBodyPoint</definition>
        <argsstring>(celestialTwoBodyPointConfig *configData, uint64_t callTime, int64_t moduleID)</argsstring>
        <name>Update_celestialTwoBodyPoint</name>
        <param>
          <type><ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref> *</type>
          <declname>configData</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>callTime</declname>
        </param>
        <param>
          <type>int64_t</type>
          <declname>moduleID</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>This method takes the spacecraft and points a specified axis at a named celestial body specified in the configuration data. It generates the commanded attitude and assumes that the control errors are computed downstream. <simplesect kind="return"><para>void </para>
</simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>configData</parametername>
</parameternamelist>
<parameterdescription>
<para>The configuration data associated with the celestial body guidance </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>callTime</parametername>
</parameternamelist>
<parameterdescription>
<para>The clock time at which the function was called (nanoseconds) </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>moduleID</parametername>
</parameternamelist>
<parameterdescription>
<para>The ID associated with the configData </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
<para><itemizedlist>
<listitem><para>Parse the input messages</para>
</listitem></itemizedlist>
</para>
<para><itemizedlist>
<listitem><para>Compute the pointing requirements</para>
</listitem></itemizedlist>
</para>
<para><itemizedlist>
<listitem><para>Write the output message</para>
</listitem></itemizedlist>
</para>
        </inbodydescription>
        <location file="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" line="71" column="6" bodyfile="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" bodystart="71" bodyend="80"/>
      </memberdef>
      <memberdef kind="function" id="celestial_two_body_point_8c_1ad99e99204940a5e0489c086aa04ffa05" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void parseInputMessages</definition>
        <argsstring>(celestialTwoBodyPointConfig *configData, int64_t moduleID)</argsstring>
        <name>parseInputMessages</name>
        <param>
          <type><ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref> *</type>
          <declname>configData</declname>
        </param>
        <param>
          <type>int64_t</type>
          <declname>moduleID</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>This method takes the navigation translational info as well as the spice data of the primary celestial body and, if applicable, the second one, and computes the relative state vectors necessary to create the restricted 2-body pointing reference frame. <simplesect kind="return"><para>void </para>
</simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>configData</parametername>
</parameternamelist>
<parameterdescription>
<para>The configuration data associated with the celestial body guidance </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>moduleID</parametername>
</parameternamelist>
<parameterdescription>
<para>The ID associated with the configData </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
<para><itemizedlist>
<listitem><para>Compute R_P2 and v_P2</para>
</listitem></itemizedlist>
</para>
<para><itemizedlist>
<listitem><para>Cross the P1 states to get R_P2, v_p2 and a_P2</para>
</listitem></itemizedlist>
</para>
        </inbodydescription>
        <location file="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" line="89" column="6" bodyfile="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" bodystart="89" bodyend="134"/>
      </memberdef>
      <memberdef kind="function" id="celestial_two_body_point_8c_1a39467a4cc50a7c72768ac808a0056072" prot="public" static="no" const="no" explicit="no" inline="no" virt="non-virtual">
        <type>void</type>
        <definition>void computeCelestialTwoBodyPoint</definition>
        <argsstring>(celestialTwoBodyPointConfig *configData, uint64_t callTime)</argsstring>
        <name>computeCelestialTwoBodyPoint</name>
        <param>
          <type><ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref> *</type>
          <declname>configData</declname>
        </param>
        <param>
          <type>uint64_t</type>
          <declname>callTime</declname>
        </param>
        <briefdescription>
        </briefdescription>
        <detaileddescription>
<para>This method takes the spacecraft and points a specified axis at a named celestial body specified in the configuration data. It generates the commanded attitude and assumes that the control errors are computed downstream. <simplesect kind="return"><para>void </para>
</simplesect>
<parameterlist kind="param"><parameteritem>
<parameternamelist>
<parametername>configData</parametername>
</parameternamelist>
<parameterdescription>
<para>The configuration data associated with the celestial body guidance </para>
</parameterdescription>
</parameteritem>
<parameteritem>
<parameternamelist>
<parametername>callTime</parametername>
</parameternamelist>
<parameterdescription>
<para>The clock time at which the function was called (nanoseconds) </para>
</parameterdescription>
</parameteritem>
</parameterlist>
</para>
        </detaileddescription>
        <inbodydescription>
        </inbodydescription>
        <location file="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" line="146" column="6" bodyfile="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c" bodystart="146" bodyend="261"/>
      </memberdef>
    </sectiondef>
    <briefdescription>
    </briefdescription>
    <detaileddescription>
    </detaileddescription>
    <programlisting>
<codeline lineno="1"><highlight class="comment">/*</highlight></codeline>
<codeline lineno="2"><highlight class="comment"><sp/>ISC<sp/>License</highlight></codeline>
<codeline lineno="3"><highlight class="comment"></highlight></codeline>
<codeline lineno="4"><highlight class="comment"><sp/>Copyright<sp/>(c)<sp/>2016,<sp/>Autonomous<sp/>Vehicle<sp/>Systems<sp/>Lab,<sp/>University<sp/>of<sp/>Colorado<sp/>at<sp/>Boulder</highlight></codeline>
<codeline lineno="5"><highlight class="comment"></highlight></codeline>
<codeline lineno="6"><highlight class="comment"><sp/>Permission<sp/>to<sp/>use,<sp/>copy,<sp/>modify,<sp/>and/or<sp/>distribute<sp/>this<sp/>software<sp/>for<sp/>any</highlight></codeline>
<codeline lineno="7"><highlight class="comment"><sp/>purpose<sp/>with<sp/>or<sp/>without<sp/>fee<sp/>is<sp/>hereby<sp/>granted,<sp/>provided<sp/>that<sp/>the<sp/>above</highlight></codeline>
<codeline lineno="8"><highlight class="comment"><sp/>copyright<sp/>notice<sp/>and<sp/>this<sp/>permission<sp/>notice<sp/>appear<sp/>in<sp/>all<sp/>copies.</highlight></codeline>
<codeline lineno="9"><highlight class="comment"></highlight></codeline>
<codeline lineno="10"><highlight class="comment"><sp/>THE<sp/>SOFTWARE<sp/>IS<sp/>PROVIDED<sp/>&quot;AS<sp/>IS&quot;<sp/>AND<sp/>THE<sp/>AUTHOR<sp/>DISCLAIMS<sp/>ALL<sp/>WARRANTIES</highlight></codeline>
<codeline lineno="11"><highlight class="comment"><sp/>WITH<sp/>REGARD<sp/>TO<sp/>THIS<sp/>SOFTWARE<sp/>INCLUDING<sp/>ALL<sp/>IMPLIED<sp/>WARRANTIES<sp/>OF</highlight></codeline>
<codeline lineno="12"><highlight class="comment"><sp/>MERCHANTABILITY<sp/>AND<sp/>FITNESS.<sp/>IN<sp/>NO<sp/>EVENT<sp/>SHALL<sp/>THE<sp/>AUTHOR<sp/>BE<sp/>LIABLE<sp/>FOR</highlight></codeline>
<codeline lineno="13"><highlight class="comment"><sp/>ANY<sp/>SPECIAL,<sp/>DIRECT,<sp/>INDIRECT,<sp/>OR<sp/>CONSEQUENTIAL<sp/>DAMAGES<sp/>OR<sp/>ANY<sp/>DAMAGES</highlight></codeline>
<codeline lineno="14"><highlight class="comment"><sp/>WHATSOEVER<sp/>RESULTING<sp/>FROM<sp/>LOSS<sp/>OF<sp/>USE,<sp/>DATA<sp/>OR<sp/>PROFITS,<sp/>WHETHER<sp/>IN<sp/>AN</highlight></codeline>
<codeline lineno="15"><highlight class="comment"><sp/>ACTION<sp/>OF<sp/>CONTRACT,<sp/>NEGLIGENCE<sp/>OR<sp/>OTHER<sp/>TORTIOUS<sp/>ACTION,<sp/>ARISING<sp/>OUT<sp/>OF</highlight></codeline>
<codeline lineno="16"><highlight class="comment"><sp/>OR<sp/>IN<sp/>CONNECTION<sp/>WITH<sp/>THE<sp/>USE<sp/>OR<sp/>PERFORMANCE<sp/>OF<sp/>THIS<sp/>SOFTWARE.</highlight></codeline>
<codeline lineno="17"><highlight class="comment"></highlight></codeline>
<codeline lineno="18"><highlight class="comment"><sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="19"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;string.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="20"><highlight class="normal"></highlight></codeline>
<codeline lineno="21"><highlight class="normal"></highlight><highlight class="preprocessor">#ifndef<sp/>_USE_MATH_DEFINES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="22"><highlight class="normal"></highlight><highlight class="preprocessor">#define<sp/>_USE_MATH_DEFINES</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="23"><highlight class="normal"></highlight><highlight class="preprocessor">#endif</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="24"><highlight class="normal"></highlight></codeline>
<codeline lineno="25"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&lt;math.h&gt;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="26"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="27"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;architecture/utilities/linearAlgebra.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="28"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;architecture/utilities/rigidBodyKinematics.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="29"><highlight class="normal"></highlight><highlight class="preprocessor">#include<sp/>&quot;architecture/utilities/macroDefinitions.h&quot;</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="30"><highlight class="normal"></highlight></codeline>
<codeline lineno="38"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>SelfInit_celestialTwoBodyPoint(<ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref><sp/>*configData,</highlight></codeline>
<codeline lineno="39"><highlight class="normal"><sp/><sp/><sp/><sp/>int64_t<sp/>moduleID)</highlight></codeline>
<codeline lineno="40"><highlight class="normal">{</highlight></codeline>
<codeline lineno="41"><highlight class="normal"><sp/><sp/><sp/><sp/>AttRefMsg_C_init(&amp;configData-&gt;<ref refid="structcelestial_two_body_point_config_1a06e4d8f72cfe74baf12e5867e280e289" kindref="member">attRefOutMsg</ref>);</highlight></codeline>
<codeline lineno="42"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="43"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="44"><highlight class="normal">}</highlight></codeline>
<codeline lineno="45"><highlight class="normal"></highlight></codeline>
<codeline lineno="46"><highlight class="normal"></highlight></codeline>
<codeline lineno="47"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Reset_celestialTwoBodyPoint(<ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref><sp/>*configData,<sp/>uint64_t<sp/>callTime,<sp/>int64_t<sp/>moduleID)</highlight></codeline>
<codeline lineno="48"><highlight class="normal">{</highlight></codeline>
<codeline lineno="49"><highlight class="normal"><sp/><sp/><sp/><sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1afc40b780110b8ec4fa934575683a6d45" kindref="member">secCelBodyIsLinked</ref><sp/>=<sp/>EphemerisMsg_C_isLinked(&amp;configData-&gt;<ref refid="structcelestial_two_body_point_config_1a7bf7fdc445afc0d5ec76f65b9ff0f3bb" kindref="member">secCelBodyInMsg</ref>);</highlight></codeline>
<codeline lineno="50"><highlight class="normal"></highlight></codeline>
<codeline lineno="51"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>check<sp/>if<sp/>required<sp/>input<sp/>messages<sp/>have<sp/>been<sp/>included</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="52"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!NavTransMsg_C_isLinked(&amp;configData-&gt;<ref refid="structcelestial_two_body_point_config_1a5138e54a4ff9d0170d74514ee12979a2" kindref="member">transNavInMsg</ref>))<sp/>{</highlight></codeline>
<codeline lineno="53"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_bskLog(configData-&gt;<ref refid="structcelestial_two_body_point_config_1aee32e23dd9867d0062e0ab448d0e2337" kindref="member">bskLogger</ref>,<sp/>BSK_ERROR,<sp/></highlight><highlight class="stringliteral">&quot;Error:<sp/>celestialTwoBodyPoint.transNavInMsg<sp/>wasn&apos;t<sp/>connected.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="54"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="55"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal"><sp/>(!EphemerisMsg_C_isLinked(&amp;configData-&gt;<ref refid="structcelestial_two_body_point_config_1a9f5b2d89e89922588b25deacb3c72ef2" kindref="member">celBodyInMsg</ref>))<sp/>{</highlight></codeline>
<codeline lineno="56"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>_bskLog(configData-&gt;<ref refid="structcelestial_two_body_point_config_1aee32e23dd9867d0062e0ab448d0e2337" kindref="member">bskLogger</ref>,<sp/>BSK_ERROR,<sp/></highlight><highlight class="stringliteral">&quot;Error:<sp/>celestialTwoBodyPoint.celBodyInMsg<sp/>wasn&apos;t<sp/>connected.&quot;</highlight><highlight class="normal">);</highlight></codeline>
<codeline lineno="57"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="58"><highlight class="normal"></highlight></codeline>
<codeline lineno="59"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="60"><highlight class="normal">}</highlight></codeline>
<codeline lineno="61"><highlight class="normal"></highlight></codeline>
<codeline lineno="71"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>Update_celestialTwoBodyPoint(<ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref><sp/>*configData,</highlight></codeline>
<codeline lineno="72"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>uint64_t<sp/>callTime,<sp/>int64_t<sp/>moduleID)</highlight></codeline>
<codeline lineno="73"><highlight class="normal">{</highlight></codeline>
<codeline lineno="75"><highlight class="normal"><sp/><sp/><sp/><sp/>parseInputMessages(configData,<sp/>moduleID);</highlight></codeline>
<codeline lineno="77"><highlight class="normal"><sp/><sp/><sp/><sp/>computeCelestialTwoBodyPoint(configData,<sp/>callTime);</highlight></codeline>
<codeline lineno="79"><highlight class="normal"><sp/><sp/><sp/><sp/>AttRefMsg_C_write(&amp;configData-&gt;<ref refid="structcelestial_two_body_point_config_1aec3bf07640e95423e517b969cc5e24e8" kindref="member">attRefOut</ref>,<sp/>&amp;configData-&gt;<ref refid="structcelestial_two_body_point_config_1a06e4d8f72cfe74baf12e5867e280e289" kindref="member">attRefOutMsg</ref>,<sp/>moduleID,<sp/>callTime);</highlight></codeline>
<codeline lineno="80"><highlight class="normal">}</highlight></codeline>
<codeline lineno="81"><highlight class="normal"></highlight></codeline>
<codeline lineno="89"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>parseInputMessages(<ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref><sp/>*configData,<sp/>int64_t<sp/>moduleID)</highlight></codeline>
<codeline lineno="90"><highlight class="normal">{</highlight></codeline>
<codeline lineno="91"><highlight class="normal"><sp/><sp/><sp/><sp/>NavTransMsgPayload<sp/>navData;</highlight></codeline>
<codeline lineno="92"><highlight class="normal"><sp/><sp/><sp/><sp/>EphemerisMsgPayload<sp/>primPlanet;</highlight></codeline>
<codeline lineno="93"><highlight class="normal"><sp/><sp/><sp/><sp/>EphemerisMsgPayload<sp/>secPlanet;</highlight></codeline>
<codeline lineno="94"><highlight class="normal"></highlight></codeline>
<codeline lineno="95"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>R_P1B_N_hat[3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Unit<sp/>vector<sp/>in<sp/>the<sp/>direction<sp/>of<sp/>r_P1<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="96"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>R_P2B_N_hat[3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Unit<sp/>vector<sp/>in<sp/>the<sp/>direction<sp/>of<sp/>r_P2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="97"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="98"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>platAngDiff;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Angle<sp/>between<sp/>r_P1<sp/>and<sp/>r_P2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="99"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dotProduct;<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Temporary<sp/>scalar<sp/>variable<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="100"><highlight class="normal"></highlight></codeline>
<codeline lineno="101"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">//<sp/>read<sp/>input<sp/>messages</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="102"><highlight class="normal"><sp/><sp/><sp/><sp/>navData<sp/>=<sp/>NavTransMsg_C_read(&amp;configData-&gt;<ref refid="structcelestial_two_body_point_config_1a5138e54a4ff9d0170d74514ee12979a2" kindref="member">transNavInMsg</ref>);</highlight></codeline>
<codeline lineno="103"><highlight class="normal"><sp/><sp/><sp/><sp/>primPlanet<sp/>=<sp/>EphemerisMsg_C_read(&amp;configData-&gt;<ref refid="structcelestial_two_body_point_config_1a9f5b2d89e89922588b25deacb3c72ef2" kindref="member">celBodyInMsg</ref>);</highlight></codeline>
<codeline lineno="104"><highlight class="normal"></highlight></codeline>
<codeline lineno="105"><highlight class="normal"></highlight></codeline>
<codeline lineno="106"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Subtract(primPlanet.r_BdyZero_N,<sp/>navData.r_BN_N,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>);</highlight></codeline>
<codeline lineno="107"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Subtract(primPlanet.v_BdyZero_N,<sp/>navData.v_BN_N,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1ada11565cdee4d0aec13d629bf0efe8d8" kindref="member">v_P1B_N</ref>);</highlight></codeline>
<codeline lineno="108"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="109"><highlight class="normal"><sp/><sp/><sp/><sp/>v3SetZero(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a5a50ffe32e083e9bf4929eb776769d01" kindref="member">a_P1B_N</ref>);<sp/></highlight><highlight class="comment">/*<sp/>accelerations<sp/>of<sp/>s/c<sp/>relative<sp/>to<sp/>planets<sp/>set<sp/>to<sp/>zero*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="110"><highlight class="normal"><sp/><sp/><sp/><sp/>v3SetZero(configData-&gt;<ref refid="structcelestial_two_body_point_config_1acaf158047633dc2ecb4352c41b742b27" kindref="member">a_P2B_N</ref>);</highlight></codeline>
<codeline lineno="111"><highlight class="normal"></highlight></codeline>
<codeline lineno="112"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(configData-&gt;<ref refid="structcelestial_two_body_point_config_1afc40b780110b8ec4fa934575683a6d45" kindref="member">secCelBodyIsLinked</ref>)</highlight></codeline>
<codeline lineno="113"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="114"><highlight class="normal"></highlight></codeline>
<codeline lineno="115"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>secPlanet<sp/>=<sp/>EphemerisMsg_C_read(&amp;configData-&gt;<ref refid="structcelestial_two_body_point_config_1a7bf7fdc445afc0d5ec76f65b9ff0f3bb" kindref="member">secCelBodyInMsg</ref>);</highlight></codeline>
<codeline lineno="117"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v3Subtract(secPlanet.r_BdyZero_N,<sp/>navData.r_BN_N,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1a286bdb37ffcb808824d72eab81852f70" kindref="member">R_P2B_N</ref>);</highlight></codeline>
<codeline lineno="118"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v3Subtract(secPlanet.v_BdyZero_N,<sp/>navData.v_BN_N,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1afb57c591bd410a71b89d054c64b40456" kindref="member">v_P2B_N</ref>);</highlight></codeline>
<codeline lineno="119"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v3Normalize(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>,<sp/>R_P1B_N_hat);</highlight></codeline>
<codeline lineno="120"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v3Normalize(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a286bdb37ffcb808824d72eab81852f70" kindref="member">R_P2B_N</ref>,<sp/>R_P2B_N_hat);</highlight></codeline>
<codeline lineno="121"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>dotProduct<sp/>=<sp/>v3Dot(R_P2B_N_hat,<sp/>R_P1B_N_hat);</highlight></codeline>
<codeline lineno="122"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>platAngDiff<sp/>=<sp/>safeAcos(dotProduct);</highlight></codeline>
<codeline lineno="123"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="124"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="126"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">if</highlight><highlight class="normal">(!configData-&gt;<ref refid="structcelestial_two_body_point_config_1afc40b780110b8ec4fa934575683a6d45" kindref="member">secCelBodyIsLinked</ref><sp/>||</highlight></codeline>
<codeline lineno="127"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fabs(platAngDiff)<sp/>&lt;<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1aac9de98f96f02e0abb896adfd61648db" kindref="member">singularityThresh</ref><sp/>||</highlight></codeline>
<codeline lineno="128"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/>fabs(platAngDiff)<sp/>&gt;<sp/>M_PI<sp/>-<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1aac9de98f96f02e0abb896adfd61648db" kindref="member">singularityThresh</ref>)</highlight></codeline>
<codeline lineno="129"><highlight class="normal"><sp/><sp/><sp/><sp/>{</highlight></codeline>
<codeline lineno="130"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v3Cross(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1ada11565cdee4d0aec13d629bf0efe8d8" kindref="member">v_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1a286bdb37ffcb808824d72eab81852f70" kindref="member">R_P2B_N</ref>);</highlight></codeline>
<codeline lineno="131"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v3Cross(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1a5a50ffe32e083e9bf4929eb776769d01" kindref="member">a_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1afb57c591bd410a71b89d054c64b40456" kindref="member">v_P2B_N</ref>);</highlight></codeline>
<codeline lineno="132"><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>v3Cross(configData-&gt;<ref refid="structcelestial_two_body_point_config_1ada11565cdee4d0aec13d629bf0efe8d8" kindref="member">v_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1a5a50ffe32e083e9bf4929eb776769d01" kindref="member">a_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1acaf158047633dc2ecb4352c41b742b27" kindref="member">a_P2B_N</ref>);</highlight></codeline>
<codeline lineno="133"><highlight class="normal"><sp/><sp/><sp/><sp/>}</highlight></codeline>
<codeline lineno="134"><highlight class="normal">}</highlight></codeline>
<codeline lineno="135"><highlight class="normal"></highlight></codeline>
<codeline lineno="136"><highlight class="normal"></highlight></codeline>
<codeline lineno="137"><highlight class="normal"></highlight></codeline>
<codeline lineno="146"><highlight class="normal"></highlight><highlight class="keywordtype">void</highlight><highlight class="normal"><sp/>computeCelestialTwoBodyPoint(<ref refid="structcelestial_two_body_point_config" kindref="compound">celestialTwoBodyPointConfig</ref><sp/>*configData,<sp/>uint64_t<sp/>callTime)</highlight></codeline>
<codeline lineno="147"><highlight class="normal">{</highlight></codeline>
<codeline lineno="148"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temp3[3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Temporary<sp/>vector<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="149"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temp3_1[3];<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Temporary<sp/>vector<sp/>1<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="150"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temp3_2[3];<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Temporary<sp/>vector<sp/>2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="151"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temp3_3[3];<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Temporary<sp/>vector<sp/>3<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="152"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temp33[3][3];<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Temporary<sp/>3x3<sp/>matrix<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="153"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temp33_1[3][3];<sp/><sp/></highlight><highlight class="comment">/*<sp/>Temporary<sp/>3x3<sp/>matrix<sp/>1<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="154"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>temp33_2[3][3];<sp/><sp/></highlight><highlight class="comment">/*<sp/>Temporary<sp/>3x3<sp/>matrix<sp/>2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="155"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="156"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>R_N[3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Normal<sp/>vector<sp/>of<sp/>the<sp/>plane<sp/>defined<sp/>by<sp/>R_P1<sp/>and<sp/>R_P2<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="157"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>v_N[3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>First<sp/>time-derivative<sp/>of<sp/>R_n<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="158"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>a_N[3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Second<sp/>time-derivative<sp/>of<sp/>R_n<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="159"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="160"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dcm_RN[3][3];<sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>DCM<sp/>that<sp/>maps<sp/>from<sp/>Reference<sp/>frame<sp/>to<sp/>the<sp/>inertial<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="161"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>r1_hat[3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>1st<sp/>row<sp/>vector<sp/>of<sp/>RN<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="162"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>r2_hat[3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>2nd<sp/>row<sp/>vector<sp/>of<sp/>RN<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="163"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>r3_hat[3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>3rd<sp/>row<sp/>vector<sp/>of<sp/>RN<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="164"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="165"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dr1_hat[3];<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>r1_hat<sp/>first<sp/>time-derivative<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="166"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dr2_hat[3];<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>r2_hat<sp/>first<sp/>time-derivative<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="167"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>dr3_hat[3];<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>r3_hat<sp/>first<sp/>time-derivative<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="168"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>I_33[3][3];<sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Identity<sp/>3x3<sp/>matrix<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="169"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>C1[3][3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>DCM<sp/>used<sp/>in<sp/>the<sp/>computation<sp/>of<sp/>rates<sp/>and<sp/>acceleration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="170"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>C3[3][3];<sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>DCM<sp/>used<sp/>in<sp/>the<sp/>computation<sp/>of<sp/>rates<sp/>and<sp/>acceleration<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="171"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="172"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>omega_RN_R[3];<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Angular<sp/>rate<sp/>of<sp/>the<sp/>reference<sp/>frame</highlight></codeline>
<codeline lineno="173"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrt<sp/>the<sp/>inertial<sp/>in<sp/>ref<sp/>R-frame<sp/>components<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="174"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>domega_RN_R[3];<sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>Angular<sp/>acceleration<sp/>of<sp/>the<sp/>reference<sp/>frame</highlight></codeline>
<codeline lineno="175"><highlight class="comment"><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/><sp/>wrt<sp/>the<sp/>inertial<sp/>in<sp/>ref<sp/>R-frame<sp/>components<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="176"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="177"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>ddr1_hat[3];<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>r1_hat<sp/>second<sp/>time-derivative<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="178"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>ddr2_hat[3];<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>r2_hat<sp/>second<sp/>time-derivative<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="179"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordtype">double</highlight><highlight class="normal"><sp/>ddr3_hat[3];<sp/><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>r3_hat<sp/>second<sp/>time-derivative<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="180"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="181"><highlight class="normal"><sp/><sp/><sp/><sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1aec3bf07640e95423e517b969cc5e24e8" kindref="member">attRefOut</ref><sp/>=<sp/>AttRefMsg_C_zeroMsgPayload();</highlight></codeline>
<codeline lineno="182"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="183"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>-<sp/>Initial<sp/>computations:<sp/>R_n,<sp/>v_n,<sp/>a_n<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="184"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1a286bdb37ffcb808824d72eab81852f70" kindref="member">R_P2B_N</ref>,<sp/>R_N);</highlight></codeline>
<codeline lineno="185"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(configData-&gt;<ref refid="structcelestial_two_body_point_config_1ada11565cdee4d0aec13d629bf0efe8d8" kindref="member">v_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1a286bdb37ffcb808824d72eab81852f70" kindref="member">R_P2B_N</ref>,<sp/>temp3_1);</highlight></codeline>
<codeline lineno="186"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1afb57c591bd410a71b89d054c64b40456" kindref="member">v_P2B_N</ref>,<sp/>temp3_2);</highlight></codeline>
<codeline lineno="187"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Add(temp3_1,<sp/>temp3_2,<sp/>v_N);<sp/></highlight><highlight class="comment">/*Eq<sp/>4<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="188"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a5a50ffe32e083e9bf4929eb776769d01" kindref="member">a_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1a286bdb37ffcb808824d72eab81852f70" kindref="member">R_P2B_N</ref>,<sp/>temp3_1);</highlight></codeline>
<codeline lineno="189"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1acaf158047633dc2ecb4352c41b742b27" kindref="member">a_P2B_N</ref>,<sp/>temp3_2);</highlight></codeline>
<codeline lineno="190"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Add(temp3_1,<sp/>temp3_2,<sp/>temp3_3);</highlight></codeline>
<codeline lineno="191"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(configData-&gt;<ref refid="structcelestial_two_body_point_config_1ada11565cdee4d0aec13d629bf0efe8d8" kindref="member">v_P1B_N</ref>,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1afb57c591bd410a71b89d054c64b40456" kindref="member">v_P2B_N</ref>,<sp/>temp3);</highlight></codeline>
<codeline lineno="192"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Scale(2.0,<sp/>temp3,<sp/>temp3);</highlight></codeline>
<codeline lineno="193"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Add(temp3,<sp/>temp3_3,<sp/>a_N);<sp/><sp/></highlight><highlight class="comment">/*Eq<sp/>5*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="194"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="195"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>-<sp/>Reference<sp/>Frame<sp/>computation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="196"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Normalize(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>,<sp/>r1_hat);<sp/></highlight><highlight class="comment">/*<sp/>Eq<sp/>9a*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="197"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Normalize(R_N,<sp/>r3_hat);<sp/></highlight><highlight class="comment">/*<sp/>Eq<sp/>9c<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="198"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(r3_hat,<sp/>r1_hat,<sp/>r2_hat);<sp/></highlight><highlight class="comment">/*<sp/>Eq<sp/>9b<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="199"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Normalize(r2_hat,<sp/>r2_hat);</highlight></codeline>
<codeline lineno="200"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Copy(r1_hat,<sp/>dcm_RN[0]);</highlight></codeline>
<codeline lineno="201"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Copy(r2_hat,<sp/>dcm_RN[1]);</highlight></codeline>
<codeline lineno="202"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Copy(r3_hat,<sp/>dcm_RN[2]);</highlight></codeline>
<codeline lineno="203"><highlight class="normal"><sp/><sp/><sp/><sp/>C2MRP(dcm_RN,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1aec3bf07640e95423e517b969cc5e24e8" kindref="member">attRefOut</ref>.sigma_RN);</highlight></codeline>
<codeline lineno="204"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="205"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>-<sp/>Reference<sp/>base-vectors<sp/>first<sp/>time-derivative<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="206"><highlight class="normal"><sp/><sp/><sp/><sp/>m33SetIdentity(I_33);</highlight></codeline>
<codeline lineno="207"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="208"><highlight class="normal"><sp/><sp/><sp/><sp/>v3OuterProduct(r1_hat,<sp/>r1_hat,<sp/>temp33);</highlight></codeline>
<codeline lineno="209"><highlight class="normal"><sp/><sp/><sp/><sp/>m33Subtract(I_33,<sp/>temp33,<sp/>C1);</highlight></codeline>
<codeline lineno="210"><highlight class="normal"><sp/><sp/><sp/><sp/>m33MultV3(C1,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1ada11565cdee4d0aec13d629bf0efe8d8" kindref="member">v_P1B_N</ref>,<sp/>temp3);</highlight></codeline>
<codeline lineno="211"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Scale(1.0<sp/>/<sp/>v3Norm(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>),<sp/>temp3,<sp/>dr1_hat);<sp/></highlight><highlight class="comment">/*<sp/>Eq<sp/>11a*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="212"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="213"><highlight class="normal"><sp/><sp/><sp/><sp/>v3OuterProduct(r3_hat,<sp/>r3_hat,<sp/>temp33);</highlight></codeline>
<codeline lineno="214"><highlight class="normal"><sp/><sp/><sp/><sp/>m33Subtract(I_33,<sp/>temp33,<sp/>C3);</highlight></codeline>
<codeline lineno="215"><highlight class="normal"><sp/><sp/><sp/><sp/>m33MultV3(C3,<sp/>v_N,<sp/>temp3);</highlight></codeline>
<codeline lineno="216"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Scale(1.0<sp/>/<sp/>v3Norm(R_N),<sp/>temp3,<sp/>dr3_hat);<sp/></highlight><highlight class="comment">/*<sp/>Eq<sp/>11b*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="217"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="218"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(dr3_hat,<sp/>r1_hat,<sp/>temp3_1);</highlight></codeline>
<codeline lineno="219"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(r3_hat,<sp/>dr1_hat,<sp/>temp3_2);</highlight></codeline>
<codeline lineno="220"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Add(temp3_1,<sp/>temp3_2,<sp/>dr2_hat);<sp/></highlight><highlight class="comment">/*<sp/>Eq<sp/>11c*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="221"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="222"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>-<sp/>Angular<sp/>velocity<sp/>computation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="223"><highlight class="normal"><sp/><sp/><sp/><sp/>omega_RN_R[0]<sp/>=<sp/>v3Dot(r3_hat,<sp/>dr2_hat);</highlight></codeline>
<codeline lineno="224"><highlight class="normal"><sp/><sp/><sp/><sp/>omega_RN_R[1]=<sp/>v3Dot(r1_hat,<sp/>dr3_hat);</highlight></codeline>
<codeline lineno="225"><highlight class="normal"><sp/><sp/><sp/><sp/>omega_RN_R[2]<sp/>=<sp/>v3Dot(r2_hat,<sp/>dr1_hat);</highlight></codeline>
<codeline lineno="226"><highlight class="normal"><sp/><sp/><sp/><sp/>m33tMultV3(dcm_RN,<sp/>omega_RN_R,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1aec3bf07640e95423e517b969cc5e24e8" kindref="member">attRefOut</ref>.omega_RN_N);</highlight></codeline>
<codeline lineno="227"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="228"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>-<sp/>Reference<sp/>base-vectors<sp/>second<sp/>time-derivative<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="229"><highlight class="normal"><sp/><sp/><sp/><sp/>m33MultV3(C1,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1a5a50ffe32e083e9bf4929eb776769d01" kindref="member">a_P1B_N</ref>,<sp/>temp3_1);</highlight></codeline>
<codeline lineno="230"><highlight class="normal"><sp/><sp/><sp/><sp/>v3OuterProduct(dr1_hat,<sp/>r1_hat,<sp/>temp33_1);</highlight></codeline>
<codeline lineno="231"><highlight class="normal"><sp/><sp/><sp/><sp/>m33Scale(2.0,<sp/>temp33_1,<sp/>temp33_1);</highlight></codeline>
<codeline lineno="232"><highlight class="normal"><sp/><sp/><sp/><sp/>v3OuterProduct(r1_hat,<sp/>dr1_hat,<sp/>temp33_2);</highlight></codeline>
<codeline lineno="233"><highlight class="normal"><sp/><sp/><sp/><sp/>m33Add(temp33_1,<sp/>temp33_2,<sp/>temp33);</highlight></codeline>
<codeline lineno="234"><highlight class="normal"><sp/><sp/><sp/><sp/>m33MultV3(temp33,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1ada11565cdee4d0aec13d629bf0efe8d8" kindref="member">v_P1B_N</ref>,<sp/>temp3_2);</highlight></codeline>
<codeline lineno="235"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Subtract(temp3_1,<sp/>temp3_2,<sp/>temp3);</highlight></codeline>
<codeline lineno="236"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Scale(1.0<sp/>/<sp/>v3Norm(configData-&gt;<ref refid="structcelestial_two_body_point_config_1a8a774504c4ff61c797000cda91546a54" kindref="member">R_P1B_N</ref>),<sp/>temp3,<sp/>ddr1_hat);<sp/></highlight><highlight class="comment">/*<sp/>Eq<sp/>13a*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="237"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="238"><highlight class="normal"><sp/><sp/><sp/><sp/>m33MultV3(C3,<sp/>a_N,<sp/>temp3_1);</highlight></codeline>
<codeline lineno="239"><highlight class="normal"><sp/><sp/><sp/><sp/>v3OuterProduct(dr3_hat,<sp/>r3_hat,<sp/>temp33_1);</highlight></codeline>
<codeline lineno="240"><highlight class="normal"><sp/><sp/><sp/><sp/>m33Scale(2.0,<sp/>temp33_1,<sp/>temp33_1);</highlight></codeline>
<codeline lineno="241"><highlight class="normal"><sp/><sp/><sp/><sp/>v3OuterProduct(r3_hat,<sp/>dr3_hat,<sp/>temp33_2);</highlight></codeline>
<codeline lineno="242"><highlight class="normal"><sp/><sp/><sp/><sp/>m33Add(temp33_1,<sp/>temp33_2,<sp/>temp33);</highlight></codeline>
<codeline lineno="243"><highlight class="normal"><sp/><sp/><sp/><sp/>m33MultV3(temp33,<sp/>v_N,<sp/>temp3_2);</highlight></codeline>
<codeline lineno="244"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Subtract(temp3_1,<sp/>temp3_2,<sp/>temp3);</highlight></codeline>
<codeline lineno="245"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Scale(1.0<sp/>/<sp/>v3Norm(R_N),<sp/>temp3,<sp/>ddr3_hat);<sp/></highlight><highlight class="comment">/*<sp/>Eq<sp/>13b*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="246"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="247"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(ddr3_hat,<sp/>r1_hat,<sp/>temp3_1);</highlight></codeline>
<codeline lineno="248"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(r3_hat,<sp/>ddr1_hat,<sp/>temp3_2);</highlight></codeline>
<codeline lineno="249"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Add(temp3_1,<sp/>temp3_2,<sp/>temp3_3);</highlight></codeline>
<codeline lineno="250"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Cross(dr3_hat,<sp/>dr1_hat,<sp/>temp3);</highlight></codeline>
<codeline lineno="251"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Scale(2.0,<sp/>temp3,<sp/>temp3);</highlight></codeline>
<codeline lineno="252"><highlight class="normal"><sp/><sp/><sp/><sp/>v3Add(temp3,<sp/>temp3_3,<sp/>ddr2_hat);<sp/></highlight><highlight class="comment">/*<sp/>Eq<sp/>13c*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="253"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="254"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="comment">/*<sp/>-<sp/>Angular<sp/>acceleration<sp/>computation<sp/>*/</highlight><highlight class="normal"></highlight></codeline>
<codeline lineno="255"><highlight class="normal"><sp/><sp/><sp/><sp/>domega_RN_R[0]<sp/>=<sp/>v3Dot(dr3_hat,<sp/>dr2_hat)<sp/>+<sp/>v3Dot(r3_hat,<sp/>ddr2_hat)<sp/>-<sp/>v3Dot(omega_RN_R,<sp/>dr1_hat);</highlight></codeline>
<codeline lineno="256"><highlight class="normal"><sp/><sp/><sp/><sp/>domega_RN_R[1]<sp/>=<sp/>v3Dot(dr1_hat,<sp/>dr3_hat)<sp/>+<sp/>v3Dot(r1_hat,<sp/>ddr3_hat)<sp/>-<sp/>v3Dot(omega_RN_R,<sp/>dr2_hat);</highlight></codeline>
<codeline lineno="257"><highlight class="normal"><sp/><sp/><sp/><sp/>domega_RN_R[2]<sp/>=<sp/>v3Dot(dr2_hat,<sp/>dr1_hat)<sp/>+<sp/>v3Dot(r2_hat,<sp/>ddr1_hat)<sp/>-<sp/>v3Dot(omega_RN_R,<sp/>dr3_hat);</highlight></codeline>
<codeline lineno="258"><highlight class="normal"><sp/><sp/><sp/><sp/>m33tMultV3(dcm_RN,<sp/>domega_RN_R,<sp/>configData-&gt;<ref refid="structcelestial_two_body_point_config_1aec3bf07640e95423e517b969cc5e24e8" kindref="member">attRefOut</ref>.domega_RN_N);</highlight></codeline>
<codeline lineno="259"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight></codeline>
<codeline lineno="260"><highlight class="normal"><sp/><sp/><sp/><sp/></highlight><highlight class="keywordflow">return</highlight><highlight class="normal">;</highlight></codeline>
<codeline lineno="261"><highlight class="normal">}</highlight></codeline>
<codeline lineno="262"><highlight class="normal"></highlight></codeline>
    </programlisting>
    <location file="/Users/julio/Desktop/basilisk/src/fswAlgorithms/attGuidance/celestialTwoBodyPoint/celestialTwoBodyPoint.c"/>
  </compounddef>
</doxygen>
