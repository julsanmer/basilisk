

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Module: solarArrayReference &mdash; Basilisk 2.2.1b0 documentation</title>
  

  
  <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../../../_static/css/custom.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../../../" src="../../../../_static/documentation_options.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/jquery.js"></script>
        <script src="../../../../_static/underscore.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../../../../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" />
    <link rel="next" title="_UnitTest" href="_UnitTest/index.html" />
    <link rel="prev" title="solarArrayReference" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search"  style="background: #CFB87C" >
          

          
            <a href="../../../../index.html" class="icon icon-home"> Basilisk
          

          
            
            <img src="../../../../_static/Basilisk-Logo.png" class="logo" alt="Logo"/>
          
          </a>

          
            
            
              <div class="version">
                version 2.2.1b0
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption" role="heading"><span class="caption-text">Basilisk:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../../../Install.html">Install</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Learn.html">Learning Basilisk</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Support.html">Support</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../../../index.html">Documentation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../../../architecture/index.html">architecture</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../../index.html">fswAlgorithms</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../../attControl/index.html">attControl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../attDetermination/index.html">attDetermination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../attGuidance/index.html">attGuidance</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../dvGuidance/index.html">dvGuidance</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="../index.html">effectorInterfaces</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="../_GeneralModuleFiles/index.html">_GeneralModuleFiles</a></li>
<li class="toctree-l4"><a class="reference internal" href="../dipoleMapping/index.html">dipoleMapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../errorConversion/index.html">errorConversion</a></li>
<li class="toctree-l4"><a class="reference internal" href="../forceTorqueThrForceMapping/index.html">forceTorqueThrForceMapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../hingedRigidBodyPIDMotor/index.html">hingedRigidBodyPIDMotor</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prescribedRot1DOF/index.html">prescribedRot1DOF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prescribedRot2DOF/index.html">prescribedRot2DOF</a></li>
<li class="toctree-l4"><a class="reference internal" href="../prescribedTrans/index.html">prescribedTrans</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rwMotorTorque/index.html">rwMotorTorque</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rwMotorVoltage/index.html">rwMotorVoltage</a></li>
<li class="toctree-l4"><a class="reference internal" href="../rwNullSpace/index.html">rwNullSpace</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html">solarArrayReference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../thrFiringRemainder/index.html">thrFiringRemainder</a></li>
<li class="toctree-l4"><a class="reference internal" href="../thrFiringSchmitt/index.html">thrFiringSchmitt</a></li>
<li class="toctree-l4"><a class="reference internal" href="../thrForceMapping/index.html">thrForceMapping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../thrMomentumDumping/index.html">thrMomentumDumping</a></li>
<li class="toctree-l4"><a class="reference internal" href="../thrustRWDesat/index.html">thrustRWDesat</a></li>
<li class="toctree-l4"><a class="reference internal" href="../thrusterPlatformReference/index.html">thrusterPlatformReference</a></li>
<li class="toctree-l4"><a class="reference internal" href="../torque2Dipole/index.html">torque2Dipole</a></li>
<li class="toctree-l4"><a class="reference internal" href="../torqueScheduler/index.html">torqueScheduler</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../formationFlying/index.html">formationFlying</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../fswUtilities/index.html">fswUtilities</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../gravityEstimation/index.html">gravityEstimation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../imageProcessing/index.html">imageProcessing</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../opticalNavigation/index.html">opticalNavigation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../orbitControl/index.html">orbitControl</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../rwConfigData/index.html">rwConfigData</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../sensorInterfaces/index.html">sensorInterfaces</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../smallBodyNavigation/index.html">smallBodyNavigation</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../transDetermination/index.html">transDetermination</a></li>
<li class="toctree-l3"><a class="reference internal" href="../../vehicleConfigData/index.html">vehicleConfigData</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../moduleTemplates/index.html">moduleTemplates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../report/index.html">report</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../simulation/index.html">simulation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../utilities/index.html">utilities</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Forum.html">News and Discussions</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Vizard:</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/Vizard.html">About Vizard</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/VizardDownload.html">Download</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/VizardReleaseNotes.html">Release Notes</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/VizardGUI.html">User Guide</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/vizardAdvanced/index.html">Advanced Features</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../../../Vizard/vizardGallery.html">Video Gallery</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">Basilisk</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../../../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../../../index.html">Documentation</a> &raquo;</li>
        
          <li><a href="../../index.html">fswAlgorithms</a> &raquo;</li>
        
          <li><a href="../index.html">effectorInterfaces</a> &raquo;</li>
        
          <li><a href="index.html">solarArrayReference</a> &raquo;</li>
        
      <li>Module: solarArrayReference</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../../../../_sources/Documentation/fswAlgorithms/effectorInterfaces/solarArrayReference/solarArrayReference.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <section id="module-solararrayreference">
<span id="solararrayreference"></span><h1>Module: solarArrayReference<a class="headerlink" href="#module-solararrayreference" title="Permalink to this headline">¶</a></h1>
<section id="executive-summary">
<h2>Executive Summary<a class="headerlink" href="#executive-summary" title="Permalink to this headline">¶</a></h2>
<p>This module is used to calculate the required rotation angle for a solar array that is able to rotate about its drive axis. The degree of freedom associated with the rotation of the array about the drive axis makes it such that it is possible to improve the incidence angle between the sun and the array surface, thus ensuring maximum power generation.</p>
</section>
<section id="message-connection-descriptions">
<h2>Message Connection Descriptions<a class="headerlink" href="#message-connection-descriptions" title="Permalink to this headline">¶</a></h2>
<p>The following table lists all the module input and output messages.  The module msg connection is set by the user from python.  The msg type contains a link to the message structure definition, while the description provides information on what this message is used for.</p>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Module I/O Messages</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 25%" />
<col style="width: 50%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Msg Variable Name</p></th>
<th class="head"><p>Msg Type</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>hingedRigidBodyRefOutMsg</p></td>
<td><p><a class="reference internal" href="../../../architecture/msgPayloadDefC/HingedRigidBodyMsgPayload.html#hingedrigidbodymsgpayload"><span class="std std-ref">HingedRigidBodyMsgPayload</span></a></p></td>
<td><p>Output Hinged Rigid Body Reference Message.</p></td>
</tr>
<tr class="row-odd"><td><p>attNavInMsg</p></td>
<td><p><a class="reference internal" href="../../../architecture/msgPayloadDefC/NavAttMsgPayload.html#navattmsgpayload"><span class="std std-ref">NavAttMsgPayload</span></a></p></td>
<td><p>Input Attitude Navigation Message.</p></td>
</tr>
<tr class="row-even"><td><p>attRefInMsg</p></td>
<td><p><a class="reference internal" href="../../../architecture/msgPayloadDefC/AttRefMsgPayload.html#attrefmsgpayload"><span class="std std-ref">AttRefMsgPayload</span></a></p></td>
<td><p>Input Attitude Reference Message.</p></td>
</tr>
<tr class="row-odd"><td><p>hingedRigidBodyInMsg</p></td>
<td><p><a class="reference internal" href="../../../architecture/msgPayloadDefC/HingedRigidBodyMsgPayload.html#hingedrigidbodymsgpayload"><span class="std std-ref">HingedRigidBodyMsgPayload</span></a></p></td>
<td><p>Input Hinged Rigid Body Message Message.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="module-assumptions-and-limitations">
<h2>Module Assumptions and Limitations<a class="headerlink" href="#module-assumptions-and-limitations" title="Permalink to this headline">¶</a></h2>
<p>This module computes the rotation angle required to achieve the best incidence angle between the Sun direction and the solar array surface. This does not mean that
perfect incidence (Sun direction perpendicular to array surface) is guaranteed. This module assumes that the solar array has only one surface that is able to generate power. This bounds the output reference angle <span class="math notranslate nohighlight">\(\theta_R\)</span> between <span class="math notranslate nohighlight">\(0\)</span> and <span class="math notranslate nohighlight">\(2\pi\)</span>. Perfect incidence is achievable when the solar array drive direction and the Sun direction are perpendicular. Conversely, when they are parallel, no power generation is possible, and the reference angle is set to the current angle, to avoid pointless energy consumption attempting to rotate the array.</p>
<p>The Sun direction in body-frame components is extracted from the <code class="docutils literal notranslate"><span class="pre">attNavInMsg</span></code>. The output reference angle <span class="math notranslate nohighlight">\(\theta_R\)</span>, however, can be computed either based on the reference attitude contained in <code class="docutils literal notranslate"><span class="pre">attRefInMsg</span></code>, or the current spacecraft attitude contained also in <code class="docutils literal notranslate"><span class="pre">attNavInMsg</span></code>. This depends on the frequency with which the arrays need to be actuated, in comparison with the frequency with which the motion of the spacecraft hub is controlled. The module input <code class="docutils literal notranslate"><span class="pre">attitudeFrame</span></code> allows the user to set whether to compute the reference angle based on the reference attitude or current spacecraft attitude.</p>
</section>
<section id="detailed-module-description">
<h2>Detailed Module Description<a class="headerlink" href="#detailed-module-description" title="Permalink to this headline">¶</a></h2>
<p>For this module to operate, the user needs to provide two unit directions as inputs:</p>
<ul class="simple">
<li><p><span class="math notranslate nohighlight">\({}^\mathcal{B}\boldsymbol{\hat{a}}_1\)</span>: direction of the solar array drive, about which the rotation happens;</p></li>
<li><p><span class="math notranslate nohighlight">\({}^\mathcal{B}\boldsymbol{\hat{a}}_2\)</span>: direction perpendicular to the solar array surface, with the array at a zero rotation.</p></li>
</ul>
<p>To compute the reference rotation <span class="math notranslate nohighlight">\(\theta_R\)</span>, the module computes the unit vector <span class="math notranslate nohighlight">\({}^\mathcal{R}\boldsymbol{\hat{a}}_2\)</span>, which is coplanar with
<span class="math notranslate nohighlight">\({}^\mathcal{B}\boldsymbol{\hat{a}}_1\)</span> and the Sun direction <span class="math notranslate nohighlight">\({}^\mathcal{R}\boldsymbol{\hat{r}}_S\)</span>. This is obtained as:</p>
<div class="math notranslate nohighlight">
\[{}^\mathcal{R}\boldsymbol{a}_2 = {}^\mathcal{R}\boldsymbol{\hat{r}}_S - ({}^\mathcal{R}\boldsymbol{\hat{r}}_S \cdot {}^\mathcal{B}\boldsymbol{\hat{a}}_1) {}^\mathcal{B}\boldsymbol{\hat{a}}_1\]</div>
<p>and then normalizing to obtain <span class="math notranslate nohighlight">\({}^\mathcal{R}\boldsymbol{\hat{a}}_2\)</span>. The reference angle <span class="math notranslate nohighlight">\(\theta_R\)</span> is the angle between <span class="math notranslate nohighlight">\({}^\mathcal{B}\boldsymbol{\hat{a}}_2\)</span> and <span class="math notranslate nohighlight">\({}^\mathcal{R}\boldsymbol{\hat{a}}_2\)</span>:</p>
<div class="math notranslate nohighlight">
\[\theta_R = \arccos ({}^\mathcal{B}\boldsymbol{\hat{a}}_2 \cdot {}^\mathcal{R}\boldsymbol{\hat{a}}_2).\]</div>
<p>The same math applies to the case where the body reference is used. In that case, the same vectors are expressed in body-frame coordinates. Note that the unit directions <span class="math notranslate nohighlight">\(\boldsymbol{\hat{a}}_i\)</span> have the same components in both the body and reference frame, because they are body-fixed and rotate with the spacecraft hub.</p>
<p>Some logic is implemented such that the computed reference angle <span class="math notranslate nohighlight">\(\theta_R\)</span> and the current rotation angle <span class="math notranslate nohighlight">\(\theta_C\)</span> received as input from the <code class="docutils literal notranslate"><span class="pre">hingedRigidBodyInMsg</span></code> are never more than 360 degrees apart.</p>
<p>The derivative of the reference angle <span class="math notranslate nohighlight">\(\dot{\theta}_R\)</span> is computed via finite differences.</p>
</section>
<section id="user-guide">
<h2>User Guide<a class="headerlink" href="#user-guide" title="Permalink to this headline">¶</a></h2>
<p>The required module configuration is:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">solarArray</span> <span class="o">=</span> <span class="n">solarArrayRotation</span><span class="o">.</span><span class="n">solarArrayRotation</span><span class="p">()</span>
<span class="n">solarArray</span><span class="o">.</span><span class="n">ModelTag</span> <span class="o">=</span> <span class="s2">&quot;solarArrayRotation&quot;</span>
<span class="n">solarArray</span><span class="o">.</span><span class="n">a1Hat_B</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">]</span>
<span class="n">solarArray</span><span class="o">.</span><span class="n">a2Hat_B</span> <span class="o">=</span> <span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">]</span>
<span class="n">solarArray</span><span class="o">.</span><span class="n">attitudeFrame</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">unitTestSim</span><span class="o">.</span><span class="n">AddModelToTask</span><span class="p">(</span><span class="n">unitTaskName</span><span class="p">,</span> <span class="n">solarArray</span><span class="p">)</span>
</pre></div>
</div>
<p>The module is configurable with the following parameters:</p>
<table class="colwidths-given docutils align-default" id="id2">
<caption><span class="caption-text">Module Parameters</span><a class="headerlink" href="#id2" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 34%" />
<col style="width: 66%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parameter</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">a1Hat_B</span></code></p></td>
<td><p>solar array drive direction in B-frame coordinates</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">a2Hat_B</span></code></p></td>
<td><p>solar array zero-rotation direction, in B-frame coordinates</p></td>
</tr>
<tr class="row-even"><td><p><code class="docutils literal notranslate"><span class="pre">attitudeFrame</span></code></p></td>
<td><p>0 for reference angle computed w.r.t reference frame; 1 for reference angle computed w.r.t. body frame; defaults to 0 if not specified</p></td>
</tr>
</tbody>
</table>
<hr class="docutils" />
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-enums">Enums</p>
<dl class="cpp enum">
<dt class="sig sig-object cpp" id="_CPPv413attitudeFrame">
<span id="_CPPv313attitudeFrame"></span><span id="_CPPv213attitudeFrame"></span><span class="target" id="solar_array_reference_8h_1a5484f566bbafd6daf162fbb1bf3fdb0a"></span><span class="k"><span class="pre">enum</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">attitudeFrame</span></span></span><a class="headerlink" href="#_CPPv413attitudeFrame" title="Permalink to this definition">¶</a><br /></dt>
<dd><p><em>Values:</em></p>
<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13attitudeFrame14referenceFrameE">
<span id="_CPPv3N13attitudeFrame14referenceFrameE"></span><span id="_CPPv2N13attitudeFrame14referenceFrameE"></span><span class="target" id="solar_array_reference_8h_1a5484f566bbafd6daf162fbb1bf3fdb0aa758644cf2db4b061cefd7fc760bf050c"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">referenceFrame</span></span></span><a class="headerlink" href="#_CPPv4N13attitudeFrame14referenceFrameE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="cpp enumerator">
<dt class="sig sig-object cpp" id="_CPPv4N13attitudeFrame9bodyFrameE">
<span id="_CPPv3N13attitudeFrame9bodyFrameE"></span><span id="_CPPv2N13attitudeFrame9bodyFrameE"></span><span class="target" id="solar_array_reference_8h_1a5484f566bbafd6daf162fbb1bf3fdb0aa8d357d99ce9b3647ab112f8ac51d514d"></span><span class="k"><span class="pre">enumerator</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">bodyFrame</span></span></span><a class="headerlink" href="#_CPPv4N13attitudeFrame9bodyFrameE" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

</dd></dl>

</div>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-functions">Functions</p>
<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv428SelfInit_solarArrayReferenceP25solarArrayReferenceConfig7int64_t">
<span id="_CPPv328SelfInit_solarArrayReferenceP25solarArrayReferenceConfig7int64_t"></span><span id="_CPPv228SelfInit_solarArrayReferenceP25solarArrayReferenceConfig7int64_t"></span><span id="SelfInit_solarArrayReference__solarArrayReferenceConfigP.int64_t"></span><span class="target" id="solar_array_reference_8h_1a815b68a00f4e1302947fa674de0921cc"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">SelfInit_solarArrayReference</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv425solarArrayReferenceConfig" title="solarArrayReferenceConfig"><span class="n"><span class="pre">solarArrayReferenceConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">configData</span></span>, <span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">moduleID</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv428SelfInit_solarArrayReferenceP25solarArrayReferenceConfig7int64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This method initializes the output messages for this module. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>configData</strong> – The configuration data associated with this module </p></li>
<li><p><strong>moduleID</strong> – The module identifier </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv425Reset_solarArrayReferenceP25solarArrayReferenceConfig8uint64_t7int64_t">
<span id="_CPPv325Reset_solarArrayReferenceP25solarArrayReferenceConfig8uint64_t7int64_t"></span><span id="_CPPv225Reset_solarArrayReferenceP25solarArrayReferenceConfig8uint64_t7int64_t"></span><span id="Reset_solarArrayReference__solarArrayReferenceConfigP.uint64_t.int64_t"></span><span class="target" id="solar_array_reference_8h_1ac7647cee0998df17a07f4fbe732178e4"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Reset_solarArrayReference</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv425solarArrayReferenceConfig" title="solarArrayReferenceConfig"><span class="n"><span class="pre">solarArrayReferenceConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">configData</span></span>, <span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">callTime</span></span>, <span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">moduleID</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv425Reset_solarArrayReferenceP25solarArrayReferenceConfig8uint64_t7int64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This method performs a complete reset of the module. Local module variables that retain time varying states between function calls are reset to their default values. </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>configData</strong> – The configuration data associated with the module </p></li>
<li><p><strong>callTime</strong> – [ns] time the method is called </p></li>
<li><p><strong>moduleID</strong> – The module identifier </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void </p>
</dd>
</dl>
</dd></dl>

<dl class="cpp function">
<dt class="sig sig-object cpp" id="_CPPv426Update_solarArrayReferenceP25solarArrayReferenceConfig8uint64_t7int64_t">
<span id="_CPPv326Update_solarArrayReferenceP25solarArrayReferenceConfig8uint64_t7int64_t"></span><span id="_CPPv226Update_solarArrayReferenceP25solarArrayReferenceConfig8uint64_t7int64_t"></span><span id="Update_solarArrayReference__solarArrayReferenceConfigP.uint64_t.int64_t"></span><span class="target" id="solar_array_reference_8h_1a45512e7b5767a72b4398966d3d9eda00"></span><span class="kt"><span class="pre">void</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">Update_solarArrayReference</span></span></span><span class="sig-paren">(</span><a class="reference internal" href="#_CPPv425solarArrayReferenceConfig" title="solarArrayReferenceConfig"><span class="n"><span class="pre">solarArrayReferenceConfig</span></span></a><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="n sig-param"><span class="pre">configData</span></span>, <span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">callTime</span></span>, <span class="n"><span class="pre">int64_t</span></span><span class="w"> </span><span class="n sig-param"><span class="pre">moduleID</span></span><span class="sig-paren">)</span><a class="headerlink" href="#_CPPv426Update_solarArrayReferenceP25solarArrayReferenceConfig8uint64_t7int64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>This method computes the updated rotation angle reference based on current attitude, reference attitude, and current rotation angle </p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>configData</strong> – The configuration data associated with the module </p></li>
<li><p><strong>callTime</strong> – The clock time at which the function was called (nanoseconds) </p></li>
<li><p><strong>moduleID</strong> – The module identifier </p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>void </p>
</dd>
</dl>
</dd></dl>

</div>
<dl class="cpp struct">
<dt class="sig sig-object cpp" id="_CPPv425solarArrayReferenceConfig">
<span id="_CPPv325solarArrayReferenceConfig"></span><span id="_CPPv225solarArrayReferenceConfig"></span><span id="solarArrayReferenceConfig"></span><span class="target" id="structsolar_array_reference_config"></span><span class="k"><span class="pre">struct</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">solarArrayReferenceConfig</span></span></span><a class="headerlink" href="#_CPPv425solarArrayReferenceConfig" title="Permalink to this definition">¶</a><br /></dt>
<dd><div class="docutils container">
<em>#include &lt;solarArrayReference.h&gt;</em></div>
<p>Top level structure for the sub-module routines. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric" id="breathe-section-title-public-members">Public Members</p>
<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig7a1Hat_BE">
<span id="_CPPv3N25solarArrayReferenceConfig7a1Hat_BE"></span><span id="_CPPv2N25solarArrayReferenceConfig7a1Hat_BE"></span><span id="solarArrayReferenceConfig::a1Hat_B__doubleA"></span><span class="target" id="structsolar_array_reference_config_1aa0bc4ff6079cf7af2cff7bc4e067727c"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">a1Hat_B</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig7a1Hat_BE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>solar array drive axis in body frame coordinates </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig7a2Hat_BE">
<span id="_CPPv3N25solarArrayReferenceConfig7a2Hat_BE"></span><span id="_CPPv2N25solarArrayReferenceConfig7a2Hat_BE"></span><span id="solarArrayReferenceConfig::a2Hat_B__doubleA"></span><span class="target" id="structsolar_array_reference_config_1ad4843ad59b8e7d94b22d701b0d72acbe"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">a2Hat_B</span></span></span><span class="p"><span class="pre">[</span></span><span class="m"><span class="pre">3</span></span><span class="p"><span class="pre">]</span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig7a2Hat_BE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>solar array surface normal at zero rotation </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig13attitudeFrameE">
<span id="_CPPv3N25solarArrayReferenceConfig13attitudeFrameE"></span><span id="_CPPv2N25solarArrayReferenceConfig13attitudeFrameE"></span><span id="solarArrayReferenceConfig::attitudeFrame__i"></span><span class="target" id="structsolar_array_reference_config_1a952bbc8b512befa237f96c35b9a31bbd"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">attitudeFrame</span></span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig13attitudeFrameE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>flag = 1: compute theta reference based on current attitude instead of attitude reference </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig5countE">
<span id="_CPPv3N25solarArrayReferenceConfig5countE"></span><span id="_CPPv2N25solarArrayReferenceConfig5countE"></span><span id="solarArrayReferenceConfig::count__i"></span><span class="target" id="structsolar_array_reference_config_1aa6433ed37d7805a34e54eea23be6ce8c"></span><span class="kt"><span class="pre">int</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">count</span></span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig5countE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>counter variable for finite differences </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig6priorTE">
<span id="_CPPv3N25solarArrayReferenceConfig6priorTE"></span><span id="_CPPv2N25solarArrayReferenceConfig6priorTE"></span><span id="solarArrayReferenceConfig::priorT__uint64_t"></span><span class="target" id="structsolar_array_reference_config_1aee21855ac5e51ac96da2d81af7b5bbd5"></span><span class="n"><span class="pre">uint64_t</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">priorT</span></span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig6priorTE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>prior call time for finite differences </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig11priorThetaRE">
<span id="_CPPv3N25solarArrayReferenceConfig11priorThetaRE"></span><span id="_CPPv2N25solarArrayReferenceConfig11priorThetaRE"></span><span id="solarArrayReferenceConfig::priorThetaR__double"></span><span class="target" id="structsolar_array_reference_config_1aff947a7fc4d15f3f73e4dee0ffada5c2"></span><span class="kt"><span class="pre">double</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">priorThetaR</span></span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig11priorThetaRE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>prior output msg for finite differences </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig11attNavInMsgE">
<span id="_CPPv3N25solarArrayReferenceConfig11attNavInMsgE"></span><span id="_CPPv2N25solarArrayReferenceConfig11attNavInMsgE"></span><span id="solarArrayReferenceConfig::attNavInMsg__NavAttMsg_C"></span><span class="target" id="structsolar_array_reference_config_1a9d49676856b0b5807bf7d513f0baf193"></span><span class="n"><span class="pre">NavAttMsg_C</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">attNavInMsg</span></span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig11attNavInMsgE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>input msg measured attitude </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig11attRefInMsgE">
<span id="_CPPv3N25solarArrayReferenceConfig11attRefInMsgE"></span><span id="_CPPv2N25solarArrayReferenceConfig11attRefInMsgE"></span><span id="solarArrayReferenceConfig::attRefInMsg__AttRefMsg_C"></span><span class="target" id="structsolar_array_reference_config_1ac7538f282d616cd42d32bdd1190c2028"></span><span class="n"><span class="pre">AttRefMsg_C</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">attRefInMsg</span></span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig11attRefInMsgE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>input attitude reference message </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig20hingedRigidBodyInMsgE">
<span id="_CPPv3N25solarArrayReferenceConfig20hingedRigidBodyInMsgE"></span><span id="_CPPv2N25solarArrayReferenceConfig20hingedRigidBodyInMsgE"></span><span id="solarArrayReferenceConfig::hingedRigidBodyInMsg__HingedRigidBodyMsg_C"></span><span class="target" id="structsolar_array_reference_config_1a450481c7e93221075e2ec4706cdac7f4"></span><span class="n"><span class="pre">HingedRigidBodyMsg_C</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hingedRigidBodyInMsg</span></span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig20hingedRigidBodyInMsgE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>input hinged rigid body message </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig24hingedRigidBodyRefOutMsgE">
<span id="_CPPv3N25solarArrayReferenceConfig24hingedRigidBodyRefOutMsgE"></span><span id="_CPPv2N25solarArrayReferenceConfig24hingedRigidBodyRefOutMsgE"></span><span id="solarArrayReferenceConfig::hingedRigidBodyRefOutMsg__HingedRigidBodyMsg_C"></span><span class="target" id="structsolar_array_reference_config_1a873476af354bfb53f497f62d10723ee0"></span><span class="n"><span class="pre">HingedRigidBodyMsg_C</span></span><span class="w"> </span><span class="sig-name descname"><span class="n"><span class="pre">hingedRigidBodyRefOutMsg</span></span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig24hingedRigidBodyRefOutMsgE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>output msg containing hinged rigid body target angle and angle rate </p>
</dd></dl>

<dl class="cpp var">
<dt class="sig sig-object cpp" id="_CPPv4N25solarArrayReferenceConfig9bskLoggerE">
<span id="_CPPv3N25solarArrayReferenceConfig9bskLoggerE"></span><span id="_CPPv2N25solarArrayReferenceConfig9bskLoggerE"></span><span id="solarArrayReferenceConfig::bskLogger__BSKLoggerP"></span><span class="target" id="structsolar_array_reference_config_1a67e73eb71326bea6ed9476b2fcebe6f4"></span><span class="n"><span class="pre">BSKLogger</span></span><span class="w"> </span><span class="p"><span class="pre">*</span></span><span class="sig-name descname"><span class="n"><span class="pre">bskLogger</span></span></span><a class="headerlink" href="#_CPPv4N25solarArrayReferenceConfig9bskLoggerE" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>BSK Logging. </p>
</dd></dl>

</div>
</dd></dl>

</section>
</section>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="_UnitTest/index.html" class="btn btn-neutral float-right" title="_UnitTest" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="solarArrayReference" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2023, Autonomous Vehicle Systems (AVS) Laboratory.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>